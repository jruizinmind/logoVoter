!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@stamp/it"),require("bignumber.js"),require("@stamp/required"),require("axios"),require("tweetnacl"),require("json-bigint"),require("bs58check"),require("rlp"),require("blakejs"),require("aes-js"),require("sha.js"),require("tweetnacl-auth"),require("bip32-path"),require("@aeternity/bip39"),require("universal-url"),require("joi-browser"),require("websocket")):"function"==typeof define&&define.amd?define([,,,,,,,,,,,,,,,,],e):"object"==typeof exports?exports.Ae=e(require("@stamp/it"),require("bignumber.js"),require("@stamp/required"),require("axios"),require("tweetnacl"),require("json-bigint"),require("bs58check"),require("rlp"),require("blakejs"),require("aes-js"),require("sha.js"),require("tweetnacl-auth"),require("bip32-path"),require("@aeternity/bip39"),require("universal-url"),require("joi-browser"),require("websocket")):t.Ae=e(t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0])}(window,function(t,e,n,r,a,u,o,i,s,c,f,l,d,p,h,v,m){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=88)}([function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){var r=n(4),a=n(30);t.exports=function(t){return function e(n,u){switch(arguments.length){case 0:return e;case 1:return a(n)?e:r(function(e){return t(n,e)});default:return a(n)&&a(u)?e:a(n)?r(function(e){return t(e,u)}):a(u)?r(function(e){return t(n,e)}):t(n,u)}}}},function(t,e,n){t.exports=n(99)},function(t,e){function n(t,e,n,r,a,u,o){try{var i=t[u](o),s=i.value}catch(t){return void n(t)}i.done?e(s):Promise.resolve(s).then(r,a)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(a,u){var o=t.apply(e,r);function i(t){n(o,a,u,i,s,"next",t)}function s(t){n(o,a,u,i,s,"throw",t)}i(void 0)})}}},function(t,e,n){var r=n(30);t.exports=function(t){return function e(n){return 0===arguments.length||r(n)?e:t.apply(this,arguments)}}},function(t,e,n){"use strict";(function(t){var r=n(20),a=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.isBase64=function(t){var e;return!(t.length%4>0||t.match(/[^0-9a-z+\/=]/i)||-1!==(e=t.indexOf("="))&&!t.slice(e).match(/={1,2}/))},e.formatAddress=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.api,e=arguments.length>1?arguments[1]:void 0;switch(t){case v.api:return e;case v.sophia:return"0x".concat((0,p.decode)(e,"ak").toString("hex"))}},e.isAddressValid=function(t){var e;try{e=32===T(B(t,"ak")).length}catch(t){e=!1}return e},e.addressToHex=function(t){return"0x".concat(T(B(t,"ak")).toString("hex"))},e.addressFromDecimal=function(t){return j((0,l.toBytes)(t,!0))},e.hash=m,e.nameId=function(e){var n=t.allocUnsafe(32).fill(0);if(e){for(var r=e.split("."),a=0;a<r.length;a++)n=m(t.concat([n,m(r[a])]));return n}return n},e.sha256hash=y,e.salt=function(){return Math.floor(Math.random()*Math.floor(Number.MAX_SAFE_INTEGER))},e.encodeBase64Check=g,e.checkSumFn=x,e.decodeBase64Check=b,e.encodeBase58Check=w,e.decodeBase58Check=T,e.hexStringToByte=function(t){if(!t)return new Uint8Array;for(var e=[],n=0,r=t.length;n<r;n+=2)e.push(parseInt(t.substr(n,2),16));return new Uint8Array(e)},e.encodeUnsigned=_,e.encodeContractAddress=function(e,n){var r=T(B(e,"ak")),a=t.concat([r,_(n)]);return"ct_".concat(w(m(a)))},e.generateKeyPairFromSecret=function(t){return c.default.sign.keyPair.fromSecretKey(t)},e.generateKeyPair=I,e.encryptPublicKey=E,e.encryptPrivateKey=k,e.encryptKey=A,e.decryptKey=P,e.sign=S,e.verify=C,e.prepareTx=function(e,n){return[t.from([11]),t.from([1]),[t.from(e)],n]},e.personalMessageToBinary=O,e.signPersonalMessage=function(t,e){return S(O(t),e)},e.verifyPersonalMessage=function(t,e,n){return C(O(t),e,n)},e.aeEncodeKey=j,e.generateSaveWallet=function(t){var e=I(!0);return{publicKey:E(t,e.publicKey),secretKey:k(t,e.secretKey)}},e.decryptPrivateKey=function(t,e){return P(t,e)},e.decryptPubKey=function(t,e){return P(t,e).slice(0,65)},e.assertedType=B,e.decodeTx=function(e){return i.decode(t.from(b(B(e,"tx"))))},e.encodeTx=function(t){var e=g(i.encode(t));return"tx_".concat(e)},e.isValidKeypair=function(t,e){var n=S("TheMessage",t);return C("TheMessage",n,e)},e.envKeypair=function(t){var e={secretKey:t.WALLET_PRIV,publicKey:t.WALLET_PUB};if(e.publicKey&&e.secretKey)return e;throw Error("Environment variables WALLET_PRIV and WALLET_PUB need to be set")},e.deserialize=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{prettyTags:!1};var r=D(e[0]);var a={tag:F(r,n.prettyTags),version:D(e[1])};switch(r){case L.SIGNED_TX:return Object.assign(a,{signatures:function(t){for(var e=[],n=0;n<t.length;n++)e.push(w(t[n]));return e}(e[2]),tx:t(R(e[3]),n)});case L.CHANNEL_CREATE_TX:return Object.assign(a,{initiator:V(e[2]),initiatorAmount:D(e[3]),responder:V(e[4]),responderAmount:D(e[5]),channelReserve:D(e[6]),lockPeriod:D(e[7]),ttl:D(e[8]),fee:D(e[9])});case L.CHANNEL_CLOSE_MUTUAL_TX:return Object.assign(a,{channelId:V(e[2]),initiatorAmount:D(e[3]),responderAmount:D(e[4]),ttl:D(e[5]),fee:D(e[6]),nonce:D(e[7])});case L.CHANNEL_OFFCHAIN_TX:return Object.assign(a,{channelId:V(e[2]),round:D(e[3]),updates:function(t,e){for(var n=[],r=0;r<t.length;r++)n.push(U(R(t[r]),e));return n}(e[4],n),state:w(e[5])})}},e.rlp=e.encode=e.decode=e.ADDRESS_FORMAT=void 0;var u=a(n(6)),o=a(n(94)),i=r(n(95)),s=n(96),c=a(n(55)),f=a(n(97)),l=n(29),d=a(n(98)),p=n(14),h=f.default.ModeOfOperation.ecb;var v={sophia:1,api:2,raw:3};function m(e){return t.from((0,s.blake2b)(e,null,32))}function y(t){return(0,d.default)("sha256").update(t).digest()}function g(e){var n=t.from(e),r=x(e);return t.concat([n,r],n.length+4).toString("base64")}function x(t){return y(y(t)).slice(0,4)}function b(e){var n=function(t){var e=t.slice(0,-4),n=t.slice(-4),r=x(e);if(n.equals(r))return e}(t.from(e,"base64"));if(!n)throw new Error("Invalid checksum");return t.from(n)}function w(e){return o.default.encode(t.from(e))}function T(t){return o.default.decode(t)}function _(e){var n=t.allocUnsafe(4);return n.writeUInt32BE(e),n.slice(n.findIndex(function(t){return 0!==t}))}function I(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=c.default.sign.keyPair(),r=t.from(n.publicKey),a=t.from(n.secretKey);return e?{publicKey:r,secretKey:a}:{publicKey:"ak_".concat(w(r)),secretKey:a.toString("hex")}}function E(t,e){return A(t,(0,l.rightPad)(32,e))}function k(t,e){return A(t,(0,l.leftPad)(64,e))}function A(t,e){var n=y(t);return new h(n).encrypt(e)}function P(e,n){var r=t.from(n),a=y(e),u=new h(a);return t.from(u.decrypt(r))}function S(e,n){return c.default.sign.detached(t.from(e),t.from(n))}function C(t,e,n){return c.default.sign.detached.verify(new Uint8Array(t),e,n)}function O(e){var n=t.from("Ã¦ternity Signed Message:\n","utf8"),r=t.from(e,"utf8");if(r.length>=253)throw new Error("message too long");return t.concat([t.from([n.length]),n,t.from([r.length]),r])}function j(e){var n=w(t.from(e,"hex"));return"ak_".concat(n)}function B(t,e){if(RegExp("^".concat(e,"_.+$")).test(t))return t.split("_")[1];throw Error("Data doesn't match expected type ".concat(e))}e.ADDRESS_FORMAT=v;var R=i.decode;e.decode=R;var M=i.encode;e.encode=M;var N=i;e.rlp=N;var L={SIGNED_TX:11,CHANNEL_CREATE_TX:50,CHANNEL_CLOSE_MUTUAL_TX:53,CHANNEL_OFFCHAIN_TX:57,CHANNEL_OFFCHAIN_UPDATE_TRANSFER:570};function F(t,e){if(e){var n=Object.entries(L).find(function(e){var n=(0,u.default)(e,2),r=(n[0],n[1]);return t===r});return n?n[0]:t}return t}function D(t){return t.readIntBE(0,t.length)}function V(t){var e={1:"ak",2:"nm",3:"cm",4:"ok",5:"ct",6:"ch"}[t.readUIntBE(0,1)],n=w(t.slice(1,t.length));return"".concat(e,"_").concat(n)}function U(t,e){var n=D(t[0]),r={tag:F(n,e.prettyTags),version:D(t[1])};switch(n){case L.CHANNEL_OFFCHAIN_UPDATE_TRANSFER:return Object.assign(r,{from:V(t[2]),to:V(t[3]),amount:D(t[4])})}return r}}).call(this,n(7).Buffer)},function(t,e,n){var r=n(53),a=n(93),u=n(54);t.exports=function(t,e){return r(t)||a(t,e)||u()}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(90),a=n(91),u=n(92);function o(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=d(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(e,n),a=(t=i(t,r)).write(e,n);a!==r&&(t=t.slice(0,a));return t}(t,e,n):function(t,e){if(s.isBuffer(e)){var n=0|p(e.length);return 0===(t=i(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?i(t,0):d(t,e);if("Buffer"===e.type&&u(e.data))return d(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(f(e),t=i(t,e<0?0:0|p(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|p(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function h(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(r)return V(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,a){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(a)return-1;n=t.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof e&&(e=s.from(e,r)),s.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,a);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,a);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,a){var u,o=1,i=t.length,s=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,i/=2,s/=2,n/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(a){var f=-1;for(u=n;u<i;u++)if(c(t,u)===c(e,-1===f?0:u-f)){if(-1===f&&(f=u),u-f+1===s)return f*o}else-1!==f&&(u-=u-f),f=-1}else for(n+s>i&&(n=i-s),u=n;u>=0;u--){for(var l=!0,d=0;d<s;d++)if(c(t,u+d)!==c(e,d)){l=!1;break}if(l)return u}return-1}function g(t,e,n,r){n=Number(n)||0;var a=t.length-n;r?(r=Number(r))>a&&(r=a):r=a;var u=e.length;if(u%2!=0)throw new TypeError("Invalid hex string");r>u/2&&(r=u/2);for(var o=0;o<r;++o){var i=parseInt(e.substr(2*o,2),16);if(isNaN(i))return o;t[n+o]=i}return o}function x(t,e,n,r){return q(V(e,t.length-n),t,n,r)}function b(t,e,n,r){return q(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return b(t,e,n,r)}function T(t,e,n,r){return q(U(e),t,n,r)}function _(t,e,n,r){return q(function(t,e){for(var n,r,a,u=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,a=n%256,u.push(a),u.push(r);return u}(e,t.length-n),t,n,r)}function I(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var r=[],a=e;a<n;){var u,o,i,s,c=t[a],f=null,l=c>239?4:c>223?3:c>191?2:1;if(a+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(u=t[a+1]))&&(s=(31&c)<<6|63&u)>127&&(f=s);break;case 3:u=t[a+1],o=t[a+2],128==(192&u)&&128==(192&o)&&(s=(15&c)<<12|(63&u)<<6|63&o)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:u=t[a+1],o=t[a+2],i=t[a+3],128==(192&u)&&128==(192&o)&&128==(192&i)&&(s=(15&c)<<18|(63&u)<<12|(63&o)<<6|63&i)>65535&&s<1114112&&(f=s)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),a+=l}return function(t){var e=t.length;if(e<=k)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=k));return n}(r)}e.Buffer=s,e.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return c(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return function(t,e,n,r){return f(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}(null,t,e,n)},s.allocUnsafe=function(t){return l(null,t)},s.allocUnsafeSlow=function(t){return l(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,a=0,u=Math.min(n,r);a<u;++a)if(t[a]!==e[a]){n=t[a],r=e[a];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!u(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=s.allocUnsafe(e),a=0;for(n=0;n<t.length;++n){var o=t[n];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return I(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,r,a){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),e<0||n>t.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&e>=n)return 0;if(r>=a)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,a>>>=0,this===t)return 0;for(var u=a-r,o=n-e,i=Math.min(u,o),c=this.slice(r,a),f=t.slice(e,n),l=0;l<i;++l)if(c[l]!==f[l]){u=c[l],o=f[l];break}return u<o?-1:o<u?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},s.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-e;if((void 0===n||n>a)&&(n=a),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var u=!1;;)switch(r){case"hex":return g(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,n);default:if(u)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function A(t,e,n){var r="";n=Math.min(t.length,n);for(var a=e;a<n;++a)r+=String.fromCharCode(127&t[a]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var a=e;a<n;++a)r+=String.fromCharCode(t[a]);return r}function S(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var a="",u=e;u<n;++u)a+=D(t[u]);return a}function C(t,e,n){for(var r=t.slice(e,n),a="",u=0;u<r.length;u+=2)a+=String.fromCharCode(r[u]+256*r[u+1]);return a}function O(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,n,r,a,u){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>a||e<u)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function B(t,e,n,r){e<0&&(e=65535+e+1);for(var a=0,u=Math.min(t.length-n,2);a<u;++a)t[n+a]=(e&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var a=0,u=Math.min(t.length-n,4);a<u;++a)t[n+a]=e>>>8*(r?a:3-a)&255}function M(t,e,n,r,a,u){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,r,u){return u||M(t,0,n,4),a.write(t,e,n,r,23,4),n+4}function L(t,e,n,r,u){return u||M(t,0,n,8),a.write(t,e,n,r,52,8),n+8}s.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=s.prototype;else{var a=e-t;n=new s(a,void 0);for(var u=0;u<a;++u)n[u]=this[u+t]}return n},s.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t],a=1,u=0;++u<e&&(a*=256);)r+=this[t+u]*a;return r},s.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t+--e],a=1;e>0&&(a*=256);)r+=this[t+--e]*a;return r},s.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t],a=1,u=0;++u<e&&(a*=256);)r+=this[t+u]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=e,a=1,u=this[t+--r];r>0&&(a*=256);)u+=this[t+--r]*a;return u>=(a*=128)&&(u-=Math.pow(2,8*e)),u},s.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),a.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),a.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),a.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),a.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||j(this,t,e,n,Math.pow(2,8*n)-1,0);var a=1,u=0;for(this[e]=255&t;++u<n&&(a*=256);)this[e+u]=t/a&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||j(this,t,e,n,Math.pow(2,8*n)-1,0);var a=n-1,u=1;for(this[e+a]=255&t;--a>=0&&(u*=256);)this[e+a]=t/u&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var a=Math.pow(2,8*n-1);j(this,t,e,n,a-1,-a)}var u=0,o=1,i=0;for(this[e]=255&t;++u<n&&(o*=256);)t<0&&0===i&&0!==this[e+u-1]&&(i=1),this[e+u]=(t/o>>0)-i&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var a=Math.pow(2,8*n-1);j(this,t,e,n,a-1,-a)}var u=n-1,o=1,i=0;for(this[e+u]=255&t;--u>=0&&(o*=256);)t<0&&0===i&&0!==this[e+u+1]&&(i=1),this[e+u]=(t/o>>0)-i&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var a,u=r-n;if(this===t&&n<e&&e<r)for(a=u-1;a>=0;--a)t[a+e]=this[a+n];else if(u<1e3||!s.TYPED_ARRAY_SUPPORT)for(a=0;a<u;++a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+u),e);return u},s.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var a=t.charCodeAt(0);a<256&&(t=a)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var u;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(u=e;u<n;++u)this[u]=t;else{var o=s.isBuffer(t)?t:V(new s(t,r).toString()),i=o.length;for(u=0;u<n-e;++u)this[u+e]=o[u%i]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function V(t,e){var n;e=e||1/0;for(var r=t.length,a=null,u=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(e-=3)>-1&&u.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&u.push(239,191,189);continue}a=n;continue}if(n<56320){(e-=3)>-1&&u.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(e-=3)>-1&&u.push(239,191,189);if(a=null,n<128){if((e-=1)<0)break;u.push(n)}else if(n<2048){if((e-=2)<0)break;u.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;u.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;u.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return u}function U(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,n,r){for(var a=0;a<r&&!(a+n>=e.length||a>=t.length);++a)e[a+n]=t[a];return a}}).call(this,n(89))},function(e,n){e.exports=t},function(t,e,n){var r=n(16);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){r(t,e,n[e])})}return t}},function(t,e){t.exports=function(t,e){return Object.prototype.hasOwnProperty.call(e,t)}},function(t,e,n){var r=n(57),a=n(1)(function(t,e){return r({},t,e)});t.exports=a},function(t,e,n){var r=n(4),a=n(10),u=n(109),o=!{toString:null}.propertyIsEnumerable("toString"),i=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],s=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),c=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},f=r("function"!=typeof Object.keys||s?function(t){if(Object(t)!==t)return[];var e,n,r=[],f=s&&u(t);for(e in t)!a(e,t)||f&&"length"===e||(r[r.length]=e);if(o)for(n=i.length-1;n>=0;)a(e=i[n],t)&&!c(r,e)&&(r[r.length]=e),n-=1;return r}:function(t){return Object(t)!==t?[]:Object.keys(t)});t.exports=f},function(t,n){t.exports=e},function(t,e,n){"use strict";(function(t){var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.buildContractId=h,e.oracleQueryId=v,e.formatSalt=m,e.commitmentHash=y,e.decode=x,e.encode=b,e.writeId=w,e.readId=T,e.writeInt=_,e.readInt=I,e.buildPointers=E,e.readPointers=k,e.default=e.createSalt=void 0;var a=r(n(2)),u=r(n(6)),o=r(n(3)),i=r(n(15)),s=n(5),c=n(29),f=n(23),l=n(13),d=s.salt;e.createSalt=d;var p=["tx","st","ss","pi","ov","or","cb","cs"];function h(e,n){var r=t.from([].concat((0,i.default)(x(e,"ak")),(0,i.default)((0,c.toBytes)(n))));return b((0,s.hash)(r),"ct")}function v(e,n,r){return b((0,s.hash)(t.from([].concat((0,i.default)(x(e,"ak")),(0,i.default)(function(e){var n=(0,c.toBytes)(e,!0);return t.concat([t.alloc(32-n.length),n])}(n)),(0,i.default)(x(r,"ok"))))),"oq")}function m(e){return t.from(e.toString(16).padStart(64,"0"),"hex")}function y(t){return g.apply(this,arguments)}function g(){return(g=(0,o.default)(a.default.mark(function e(n){var r,u=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:d(),e.abrupt("return","cm_".concat((0,s.encodeBase58Check)((0,s.hash)(t.concat([(0,s.nameId)(n),m(r)])))));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function x(t,e){return e||(e=t.split("_")[0]),p.includes(e)?(0,s.decodeBase64Check)((0,s.assertedType)(t,e)):(0,s.decodeBase58Check)((0,s.assertedType)(t,e))}function b(t,e){return"".concat(e,"_").concat(p.includes(e)?(0,s.encodeBase64Check)(t):(0,s.encodeBase58Check)(t))}function w(e){var n=e.slice(0,2),r=f.PREFIX_ID_TAG[n];if(!r)throw new Error("Id tag for prefix ".concat(n," not found."));return t.from([].concat((0,i.default)((0,c.toBytes)(r)),(0,i.default)(x(e,n))))}function T(t){var e=t.readUIntBE(0,1),n=f.ID_TAG_PREFIX[e];if(!n)throw new Error("Prefix for id-tag ".concat(e," not found."));return b(t.slice(1,t.length),n)}function _(t){return(0,c.toBytes)(t,!0)}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.from([]);return(0,l.BigNumber)(e.toString("hex"),16).toString(10)}function E(t){return t.map(function(t){return[(0,c.toBytes)(t.key),w(t.id)]})}function k(t){return t.map(function(t){var e=(0,u.default)(t,2),n=e[0],r=e[1];return Object.assign({key:n.toString(),id:T(r)})})}var A={readPointers:k,buildPointers:E,buildContractId:h,readId:T,writeId:w,readInt:I,writeInt:_,encode:b,decode:x,commitmentHash:y,formatSalt:m,oracleQueryId:v,createSalt:d};e.default=A}).call(this,n(7).Buffer)},function(t,e,n){var r=n(101),a=n(56),u=n(102);t.exports=function(t){return r(t)||a(t)||u()}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(2)),u=r(n(11)),o=r(n(3)),i=r(n(8)),s=r(n(39)),c=r(n(40)),f=r(n(25)),l=r(n(21)),d=n(13);function p(){return(p=(0,o.default)(a.default.mark(function t(e,n){var r,o;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,u.default)(this.Ae.defaults,n),t.next=3,this.signTransaction(e);case 3:return o=t.sent,t.abrupt("return",this.sendTransaction(o,r));case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function h(){return(h=(0,o.default)(a.default.mark(function t(e,n){var r,o,i,s=arguments;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},o=(0,u.default)(this.Ae.defaults,r),t.t0=this,t.t1=u.default,t.t2=o,t.next=7,this.address();case 7:return t.t3=t.sent,t.t4=n,t.t5=e,t.t6={senderId:t.t3,recipientId:t.t4,amount:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=14,t.t0.spendTx.call(t.t0,t.t7);case 14:return i=t.sent,t.abrupt("return",this.send(i,o));case 16:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function v(){return(v=(0,o.default)(a.default.mark(function t(e,n){var r,o,i,s,c,f,p,h=arguments;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=h.length>2&&void 0!==h[2]?h[2]:{excludeFee:!1},!(e<0||e>1)){t.next=3;break}throw new Error("Percentage should be a number between 0 and 1, got ".concat(e));case 3:return o=(0,u.default)(this.Ae.defaults,r),t.t0=d.BigNumber,t.t1=this,t.next=8,this.address();case 8:return t.t2=t.sent,t.next=11,t.t1.balance.call(t.t1,t.t2);case 11:return t.t3=t.sent,t.t4=e,i=(0,t.t0)(t.t3).times(t.t4),t.t5=this,t.t6=u.default,t.t7=o,t.next=19,this.address();case 19:return t.t8=t.sent,t.t9=n,t.t10=i,t.t11={senderId:t.t8,recipientId:t.t9,amount:t.t10},t.t12=(0,t.t6)(t.t7,t.t11),t.next=26,t.t5.spendTx.call(t.t5,t.t12);case 26:if(s=t.sent,c=l.default.unpackTx(s),f=c.tx,p=i,!r.excludeFee)for(;p.plus(f.fee).gt(i);)p=i.minus(f.fee);return t.t13=this,t.t14=u.default,t.t15=o,t.next=35,this.address();case 35:return t.t16=t.sent,t.t17=n,t.t18=p,t.t19={senderId:t.t16,recipientId:t.t17,amount:t.t18},t.t20=(0,t.t14)(t.t15,t.t19),t.next=42,t.t13.spendTx.call(t.t13,t.t20);case 42:return s=t.sent,t.abrupt("return",this.send(s,o));case 44:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var m=(0,i.default)(s.default,f.default,c.default,{methods:{send:function(t,e){return p.apply(this,arguments)},spend:function(t,e){return h.apply(this,arguments)},transferFunds:function(t,e){return v.apply(this,arguments)},destroyInstance:function(){var t=this;["destroyClient","destroyServer"].forEach(function(e){return t[e]&&"function"==typeof t[e]&&t[e]()})}}});e.default=m},function(t,e,n){var r=n(44),a=n(120);t.exports=function(t,e,n){return function(){if(0===arguments.length)return n();var u=Array.prototype.slice.call(arguments,0),o=u.pop();if(!r(o)){for(var i=0;i<t.length;){if("function"==typeof o[t[i]])return o[t[i]].apply(o,u);i+=1}if(a(o))return e.apply(null,u)(o)}return n.apply(this,arguments)}}},function(t,e){t.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}}},function(t,e){t.exports=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}},function(t,e,n){"use strict";(function(t){var r=n(20),a=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.calculateMinFee=y,e.calculateFee=g,e.validateParams=x,e.buildRawTx=b,e.unpackRawTx=w,e.buildTx=T,e.unpackTx=_,e.default=void 0;var u=a(n(9)),o=a(n(24)),i=a(n(16)),s=a(n(15)),c=a(n(6)),f=n(13),l=n(5),d=n(23),p=n(14),h=n(29),v=r(n(103)),m={delta:"delta",block:"block"};function y(t,e){var n=e.gas,r=void 0===n?0:n,a=e.params,u=(0,f.BigNumber)(1e9);if(!a)return(0,f.BigNumber)(d.DEFAULT_FEE).times(u).toString(10);var o=T(a,t,{excludeKeys:["fee"]}).rlpEncoded.length;return(0,d.TX_FEE_BASE_GAS)(t)(r).plus((0,d.TX_FEE_OTHER_GAS)(t)({txSize:o,relativeTtl:function(t){var e=Object.entries(t).find(function(t){var e=(0,c.default)(t,1)[0];return["oracleTtl","queryTtl","responseTtl"].includes(e)})||["",{}],n=(0,c.default)(e,2),r=(n[0],n[1].value);return void 0===r?500:r}(a)})).times(u).toString(10)}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.gas,a=void 0===r?0:r,u=n.params,o=n.showWarning,i=void 0===o||o;!u&&i&&console.warn("Can't build transaction fee, we will use DEFAULT_FEE(".concat(d.DEFAULT_FEE,")"));var s=y(e,{params:u,gas:a});return t&&(0,f.BigNumber)(s).gt((0,f.BigNumber)(t))&&i&&console.warn("Transaction fee is lower then min fee! Min fee: ".concat(s)),t||s}function x(t,e,n){var r=n.excludeKeys,a=void 0===r?[]:r;return e.filter(function(t){var e=(0,c.default)(t,1)[0];return!a.includes(e)&&"payload"!==e}).reduce(function(e,n){var r=(0,c.default)(n,3),a=r[0],u=r[1],s=r[2];return Object.assign(e,function(t,e,n,r){var a=function(t,r){return t?{}:(0,i.default)({},e,d.VALIDATION_MESSAGE[n](r))};if(void 0===t||null===t)return(0,i.default)({},e,"Field is required");switch(n){case d.FIELD_TYPES.int:var u=(!isNaN(t)||f.BigNumber.isBigNumber(t))&&(0,f.BigNumber)(t).lt(0);return a((!isNaN(t)||f.BigNumber.isBigNumber(t))&&(0,f.BigNumber)(t).gte(0),{value:t,isMinusValue:u});case d.FIELD_TYPES.id:return a(d.PREFIX_ID_TAG[t.split("_")[0]]&&t.split("_")[0]===r,{value:t,prefix:r});case d.FIELD_TYPES.binary:return a(t.split("_")[0]===r,{prefix:r,value:t});case d.FIELD_TYPES.string:return a(!0);case d.FIELD_TYPES.ctVersion:return a("object"===(0,o.default)(t)&&t.hasOwnProperty("abiVersion")&&t.hasOwnProperty("vmVersion"));case d.FIELD_TYPES.pointers:return a(Array.isArray(t)&&!t.find(function(t){return t!==Object(t)}),{value:t});default:return{}}}(t[a],a,u,s))},{})}function b(e,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).excludeKeys,a=void 0===r?[]:r,o=x(e=function(t){return Object.entries(t).reduce(function(t,e){var n=(0,c.default)(e,2),r=n[0],a=n[1];return t[r]=a,"oracleTtl"===r&&(t=(0,u.default)({},t,{oracleTtlType:a.type===m.delta?0:1,oracleTtlValue:a.value})),"queryTtl"===r&&(t=(0,u.default)({},t,{queryTtlType:a.type===m.delta?0:1,queryTtlValue:a.value})),"responseTtl"===r&&(t=(0,u.default)({},t,{responseTtlType:a.type===m.delta?0:1,responseTtlValue:a.value})),t},{})}(e),n,{excludeKeys:a});if(Object.keys(o).length)throw new Error("Transaction build error. "+JSON.stringify(o));return n.filter(function(t){var e=(0,c.default)(t,1)[0];return!a.includes(e)}).map(function(n){var r=(0,c.default)(n,3),a=r[0],u=r[1],o=r[2];return function(e,n,r){switch(n){case d.FIELD_TYPES.int:return(0,p.writeInt)(e);case d.FIELD_TYPES.id:return(0,p.writeId)(e);case d.FIELD_TYPES.ids:return e.map(p.writeId);case d.FIELD_TYPES.bool:return t.from([e?1:0]);case d.FIELD_TYPES.binary:return(0,p.decode)(e,r);case d.FIELD_TYPES.hex:return t.from(e,"hex");case d.FIELD_TYPES.signatures:return e.map(t.from);case d.FIELD_TYPES.string:return(0,h.toBytes)(e);case d.FIELD_TYPES.pointers:return(0,p.buildPointers)(e);case d.FIELD_TYPES.mptree:return e.map(v.serialize);case d.FIELD_TYPES.ctVersion:return t.from([].concat((0,s.default)((0,h.toBytes)(e.vmVersion)),[0],(0,s.default)((0,h.toBytes)(e.abiVersion))));case d.FIELD_TYPES.callReturnType:switch(e){case"ok":return(0,p.writeInt)(0);case"error":return(0,p.writeInt)(1);case"revert":return(0,p.writeInt)(2);default:return e}default:return e}}(e[a],u,o)})}function w(e,n){return n.reduce(function(n,r,a){var u=(0,c.default)(r,3),o=u[0],s=u[1],f=u[2];return Object.assign(n,(0,i.default)({},o,function(e,n,r){if(!e)return"";switch(n){case d.FIELD_TYPES.ctVersion:var a=(0,c.default)(e,3),u=a[0],o=(a[1],a[2]);return{vmVersion:(0,p.readInt)(t.from([u])),abiVersion:(0,p.readInt)(t.from([o]))};case d.FIELD_TYPES.int:return(0,p.readInt)(e);case d.FIELD_TYPES.id:return(0,p.readId)(e);case d.FIELD_TYPES.ids:return e.map(p.readId);case d.FIELD_TYPES.bool:return 1===e[0];case d.FIELD_TYPES.binary:return(0,p.encode)(e,r);case d.FIELD_TYPES.string:return e.toString();case d.FIELD_TYPES.pointers:return(0,p.readPointers)(e);case d.FIELD_TYPES.rlpBinary:return _(e,!0);case d.FIELD_TYPES.rlpBinaries:return e.map(function(t){return _(t,!0)});case d.FIELD_TYPES.rawBinary:return e;case d.FIELD_TYPES.hex:return e.toString("hex");case d.FIELD_TYPES.offChainUpdates:return e.map(function(t){return _(t,!0)});case d.FIELD_TYPES.callStack:return[(0,p.readInt)(e)];case d.FIELD_TYPES.mptree:return e.map(v.deserialize);case d.FIELD_TYPES.callReturnType:switch((0,p.readInt)(e)){case"0":return"ok";case"1":return"error";case"2":return"revert";default:return e}default:return e}}(e[a],s,f)))},{})}function T(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.excludeKeys,a=void 0===r?[]:r,o=n.prefix,i=void 0===o?"tx":o;if(!d.TX_SERIALIZATION_SCHEMA[e])throw new Error("Transaction serialization not implemented for "+e);if(!d.TX_SERIALIZATION_SCHEMA[e][d.VSN])throw new Error("Transaction serialization not implemented for "+e+" version "+d.VSN);var s=(0,c.default)(d.TX_SERIALIZATION_SCHEMA[e][d.VSN],2),f=s[0],h=s[1],v=b((0,u.default)({},t,{VSN:d.VSN,tag:h}),f,{excludeKeys:a}).filter(function(t){return void 0!==t}),m=l.rlp.encode(v);return{tx:(0,p.encode)(m,i),rlpEncoded:m,binary:v,txObject:w(v,f)}}function _(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?t:(0,p.decode)(t,"tx"),n=l.rlp.decode(e),r=(0,p.readInt)(n[0]);if(!d.TX_DESERIALIZATION_SCHEMA[r])return{message:"Transaction deserialization not implemented for tag "+r};var a=(0,p.readInt)(n[1]);if(!d.TX_DESERIALIZATION_SCHEMA[r][a])return{message:"Transaction deserialization not implemented for tag "+r+" version "+a};var u=(0,c.default)(d.TX_DESERIALIZATION_SCHEMA[r][a],1)[0];return{txType:d.OBJECT_ID_TX_TYPE[r],tx:w(n,u),rlpEncoded:e,binary:n}}var I={calculateMinFee:y,calculateFee:g,unpackTx:_,unpackRawTx:w,buildTx:T,buildRawTx:b,validateParams:x};e.default=I}).call(this,n(7).Buffer)},function(t,e){t.exports=n},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.BASE_VERIFICATION_SCHEMA=e.SIGNATURE_VERIFICATION_SCHEMA=e.TX_DESERIALIZATION_SCHEMA=e.TX_SERIALIZATION_SCHEMA=e.VALIDATION_MESSAGE=e.ID_TAG_PREFIX=e.PREFIX_ID_TAG=e.ID_TAG=e.TX_FEE_OTHER_GAS=e.TX_FEE_BASE_GAS=e.KEY_BLOCK_INTERVAL=e.DEFAULT_FEE=e.FEE_BYTE_SIZE=e.GAS_PER_BYTE=e.BASE_GAS=e.FIELD_TYPES=e.OBJECT_ID_TX_TYPE=e.PROTOCOL_VM_ABI=e.VM_ABI_MAP_FORTUNA=e.VM_ABI_MAP_MINERVA=e.VM_ABI_MAP_ROMA=e.ABI_VERSIONS=e.VM_VERSIONS=e.TX_TYPE=e.MIN_GAS_PRICE=e.OBJECT_TAG_SIGNED_TRANSACTION=e.VSN=void 0;var a,u,o,i,s,c,f,l=r(n(16)),d=r(n(6)),p=r(n(13));e.VSN=1;e.OBJECT_TAG_SIGNED_TRANSACTION=11;var h=function(t,e,n){return[t,e,n]},v=function(t,e){return[t,e]};e.MIN_GAS_PRICE=1e9;var m={account:"account",signed:"signedTx",spend:"spendTx",nameClaim:"nameClaimTx",namePreClaim:"namePreClaimTx",nameUpdate:"nameUpdateTx",nameRevoke:"nameRevokeTx",nameTransfer:"nameTransfer",contract:"contract",contractCreate:"contractCreateTx",contractCall:"contractCallTx",contractCallResult:"contractCallResult",oracleRegister:"oracleRegister",oracleExtend:"oracleExtend",oracleQuery:"oracleQuery",oracleResponse:"oracleResponse",channelCreate:"channelCreate",channelCloseMutual:"channelCloseMutual",channelCloseSolo:"channelCloseSolo",channelSlash:"channelSlash",channelDeposit:"channelDeposit",channelWithdraw:"channelWithdraw",channelSettle:"channelSettle",channelOffChain:"channelOffChain",channel:"channel",channelSnapshotSolo:"channelSnapshotSolo",channelOffChainUpdateTransfer:"channelOffChainUpdateTransfer",channelOffChainUpdateDeposit:"channelOffChainUpdateDeposit",channelOffChainUpdateWithdrawal:"channelOffChainUpdateWithdrawal",channelOffChainCreateContract:"channelOffChainCreateContract",channelOffChainCallContract:"channelOffChainCallContract",proofOfInclusion:"proofOfInclusion",stateTrees:"stateTrees",merklePatriciaTree:"merklePatriciaTree",merklePatriciaTreeValue:"merklePatriciaTreeValue",contractsTree:"contractsTree",contractCallsTree:"contractCallsTree",channelsTree:"channelsTree",nameserviceTree:"nameserviceTree",oraclesTree:"oraclesTree",accountsTree:"accountsTree"};e.TX_TYPE=m;var y={NO_VM:0,SOPHIA:1,SOLIDITY:2,SOPHIA_IMPROVEMENTS_MINERVA:3,SOPHIA_IMPROVEMENTS_FORTUNA:4};e.VM_VERSIONS=y;var g={NO_ABI:0,SOPHIA:1,SOLIDITY:2};e.ABI_VERSIONS=g;var x=(a={},(0,l.default)(a,m.contractCreate,{vmVersion:[y.SOPHIA],abiVersion:[g.SOPHIA]}),(0,l.default)(a,m.contractCall,{vmVersion:[y.SOPHIA],abiVersion:[g.SOPHIA]}),(0,l.default)(a,m.oracleRegister,{vmVersion:[y.SOPHIA],abiVersion:[g.NO_ABI,g.SOPHIA]}),a);e.VM_ABI_MAP_ROMA=x;var b=(u={},(0,l.default)(u,m.contractCreate,{vmVersion:[y.SOPHIA_IMPROVEMENTS_MINERVA],abiVersion:[g.SOPHIA]}),(0,l.default)(u,m.contractCall,{vmVersion:[y.SOPHIA_IMPROVEMENTS_MINERVA,y.SOPHIA],abiVersion:[g.SOPHIA]}),(0,l.default)(u,m.oracleRegister,{vmVersion:[y.SOPHIA_IMPROVEMENTS_MINERVA],abiVersion:[g.NO_ABI,g.SOPHIA]}),u);e.VM_ABI_MAP_MINERVA=b;var w=(o={},(0,l.default)(o,m.contractCreate,{vmVersion:[y.SOPHIA_IMPROVEMENTS_FORTUNA],abiVersion:[g.SOPHIA]}),(0,l.default)(o,m.contractCall,{vmVersion:[y.SOPHIA_IMPROVEMENTS_FORTUNA,y.SOPHIA,y.SOPHIA_IMPROVEMENTS_MINERVA],abiVersion:[g.SOPHIA]}),(0,l.default)(o,m.oracleRegister,{vmVersion:[],abiVersion:[g.NO_ABI,g.SOPHIA]}),o);e.VM_ABI_MAP_FORTUNA=w;var T={1:x,2:b,3:w};e.PROTOCOL_VM_ABI=T;var _=(i={},(0,l.default)(i,10,m.account),(0,l.default)(i,11,m.signed),(0,l.default)(i,12,m.spend),(0,l.default)(i,32,m.nameClaim),(0,l.default)(i,33,m.namePreClaim),(0,l.default)(i,34,m.nameUpdate),(0,l.default)(i,35,m.nameRevoke),(0,l.default)(i,36,m.nameTransfer),(0,l.default)(i,40,m.contract),(0,l.default)(i,42,m.contractCreate),(0,l.default)(i,43,m.contractCall),(0,l.default)(i,41,m.contractCallResult),(0,l.default)(i,22,m.oracleRegister),(0,l.default)(i,25,m.oracleExtend),(0,l.default)(i,23,m.oracleQuery),(0,l.default)(i,24,m.oracleResponse),(0,l.default)(i,50,m.channelCreate),(0,l.default)(i,53,m.channelCloseMutual),(0,l.default)(i,54,m.channelCloseSolo),(0,l.default)(i,55,m.channelSlash),(0,l.default)(i,51,m.channelDeposit),(0,l.default)(i,52,m.channelWithdraw),(0,l.default)(i,56,m.channelSettle),(0,l.default)(i,57,m.channelOffChain),(0,l.default)(i,58,m.channel),(0,l.default)(i,59,m.channelSnapshotSolo),(0,l.default)(i,570,m.channelOffChainUpdateTransfer),(0,l.default)(i,571,m.channelOffChainUpdateDeposit),(0,l.default)(i,572,m.channelOffChainUpdateWithdrawal),(0,l.default)(i,573,m.channelOffChainCreateContract),(0,l.default)(i,574,m.channelOffChainCallContract),(0,l.default)(i,60,m.proofOfInclusion),(0,l.default)(i,62,m.stateTrees),(0,l.default)(i,63,m.merklePatriciaTree),(0,l.default)(i,64,m.merklePatriciaTreeValue),(0,l.default)(i,621,m.contractsTree),(0,l.default)(i,622,m.contractCallsTree),(0,l.default)(i,623,m.channelsTree),(0,l.default)(i,624,m.nameserviceTree),(0,l.default)(i,625,m.oraclesTree),(0,l.default)(i,626,m.accountsTree),i);e.OBJECT_ID_TX_TYPE=_;var I={int:"int",id:"id",ids:"ids",string:"string",binary:"binary",rlpBinary:"rlpBinary",rlpBinaries:"rlpBinaries",rawBinary:"rawBinary",bool:"bool",hex:"hex",signatures:"signatures",pointers:"pointers",offChainUpdates:"offChainUpdates",callStack:"callStack",proofOfInclusion:"proofOfInclusion",mptree:"mptree",callReturnType:"callReturnType",ctVersion:"ctVersion"};e.FIELD_TYPES=I;e.BASE_GAS=15e3;e.GAS_PER_BYTE=20;e.FEE_BYTE_SIZE=8;e.DEFAULT_FEE=2e4;e.KEY_BLOCK_INTERVAL=3;e.TX_FEE_BASE_GAS=function(t){return function(e){switch(t){case m.contractCreate:return(0,p.default)(75e3).plus(e);case m.contractCall:return(0,p.default)(45e4).plus(e);default:return(0,p.default)(15e3)}}};e.TX_FEE_OTHER_GAS=function(t){return function(e){var n=e.txSize,r=e.relativeTtl;switch(t){case m.oracleRegister:case m.oracleExtend:case m.oracleQuery:case m.oracleResponse:return(0,p.default)(n+8).times(20).plus(Math.ceil(32e3*r/Math.floor(175200)));default:return(0,p.default)(n+8).times(20)}}};var E={account:1,name:2,commitment:3,oracle:4,contract:5,channel:6};e.ID_TAG=E;var k={ak:E.account,nm:E.name,cm:E.commitment,ok:E.oracle,ct:E.contract,ch:E.channel};e.PREFIX_ID_TAG=k;var A=function(t){return Object.entries(t).reduce(function(t,e){var n=(0,d.default)(e,2),r=n[0];return(t[n[1]]=r)&&t},{})}(k);e.ID_TAG_PREFIX=A;var P=function(t){return t},S=(s={},(0,l.default)(s,I.int,function(t){var e=t.value,n=t.isMinusValue;return P("".concat(e,n?" must be >= 0":" is not of type Number or BigNumber"))}),(0,l.default)(s,I.id,function(t){var e=t.value,n=t.prefix;return P("'".concat(e,"' prefix doesn't match expected prefix '").concat(n,"' or ID_TAG for prefix not found"))}),(0,l.default)(s,I.binary,function(t){var e=t.prefix,n=t.value;return P("'".concat(n,"' prefix doesn't match expected prefix '").concat(e,"'"))}),(0,l.default)(s,I.string,function(t){t.value;return P("Not a string")}),(0,l.default)(s,I.pointers,function(t){t.value;return P('Value must be of type Array and contains only object\'s like \'{key: "account_pubkey", id: "ak_lkamsflkalsdalksdlasdlasdlamd"}\'')}),(0,l.default)(s,I.ctVersion,function(t){t.value;return P('Value must be an object with "vmVersion" and "abiVersion" fields')}),s);e.VALIDATION_MESSAGE=S;var C=[h("tag",I.int),h("VSN",I.int)],O=[].concat(C,[h("nonce",I.int),h("balance",I.int)]),j=[].concat(C,[h("flags",I.int),h("nonce",I.int),h("balance",I.int),h("gaContract",I.id,"ct"),h("gaAuthFun",I.binary,"cb")]),B=[].concat(C,[h("senderId",I.id,"ak"),h("recipientId",I.id,"ak"),h("amount",I.int),h("fee",I.int),h("ttl",I.int),h("nonce",I.int),h("payload",I.string)]),R=[].concat(C,[h("signatures",I.signatures),h("encodedTx",I.rlpBinary)]),M=[].concat(C,[h("accountId",I.id,"ak"),h("nonce",I.int),h("commitmentId",I.id,"cm"),h("fee",I.int),h("ttl",I.int)]),N=[].concat(C,[h("accountId",I.id,"ak"),h("nonce",I.int),h("name",I.binary,"nm"),h("nameSalt",I.int),h("fee",I.int),h("ttl",I.int)]),L=[].concat(C,[h("accountId",I.id,"ak"),h("nonce",I.int),h("nameId",I.id,"nm"),h("nameTtl",I.int),h("pointers",I.pointers),h("clientTtl",I.int),h("fee",I.int),h("ttl",I.int)]),F=[].concat(C,[h("accountId",I.id,"ak"),h("nonce",I.int),h("nameId",I.id,"nm"),h("recipientId",I.id,"ak"),h("fee",I.int),h("ttl",I.int)]),D=[].concat(C,[h("accountId",I.id,"ak"),h("nonce",I.int),h("nameId",I.id,"nm"),h("fee",I.int),h("ttl",I.int)]),V=[].concat(C,[h("owner",I.id,"ak"),h("ctVersion",I.int),h("code",I.binary,"cb"),h("log",I.binary,"cb"),h("active",I.bool),h("referers",I.ids,"ak"),h("deposit",I.int)]),U=[].concat(C,[h("ownerId",I.id,"ak"),h("nonce",I.int),h("code",I.binary,"cb"),h("ctVersion",I.ctVersion),h("fee",I.int),h("ttl",I.int),h("deposit",I.int),h("amount",I.int),h("gas",I.int),h("gasPrice",I.int),h("callData",I.binary,"cb")]),q=[].concat(C,[h("callerId",I.id,"ak"),h("nonce",I.int),h("contractId",I.id,"ct"),h("abiVersion",I.int),h("fee",I.int),h("ttl",I.int),h("amount",I.int),h("gas",I.int),h("gasPrice",I.int),h("callData",I.binary,"cb")]),Y=[].concat(C,[h("callerId",I.id,"ak"),h("callerNonce",I.int),h("height",I.int),h("contractId",I.id,"ct"),h("gasPrice",I.int),h("gasUsed",I.int),h("returnValue",I.binary,"cb"),h("returnType",I.callReturnType),h("log",I.rawBinary)]),H=[].concat(C,[h("accountId",I.id,"ak"),h("nonce",I.int),h("queryFormat",I.string),h("responseFormat",I.string),h("queryFee",I.int),h("oracleTtlType",I.int),h("oracleTtlValue",I.int),h("fee",I.int),h("ttl",I.int),h("abiVersion",I.int)]),K=[].concat(C,[h("oracleId",I.id,"ok"),h("nonce",I.int),h("oracleTtlType",I.int),h("oracleTtlValue",I.int),h("fee",I.int),h("ttl",I.int)]),X=[].concat(C,[h("senderId",I.id,"ak"),h("nonce",I.int),h("oracleId",I.id,"ok"),h("query",I.string),h("queryFee",I.int),h("queryTtlType",I.int),h("queryTtlValue",I.int),h("responseTtlType",I.int),h("responseTtlValue",I.int),h("fee",I.int),h("ttl",I.int)]),G=[].concat(C,[h("oracleId",I.id,"ok"),h("nonce",I.int),h("queryId",I.binary,"oq"),h("response",I.string),h("responseTtlType",I.int),h("responseTtlValue",I.int),h("fee",I.int),h("ttl",I.int)]),W=[].concat(C,[h("initiator",I.id,"ak"),h("initiatorAmount",I.int),h("responder",I.id,"ak"),h("responderAmount",I.int),h("channelReserve",I.int),h("lockPeriod",I.int),h("ttl",I.int),h("fee",I.int),h("delegateIds",I.string),h("stateHash",I.binary,"st"),h("nonce",I.int)]),Q=[].concat(C,[h("channelId",I.id,"ch"),h("fromId",I.id,"ak"),h("amount",I.int),h("ttl",I.int),h("fee",I.int),h("stateHash",I.binary,"st"),h("round",I.int),h("nonce",I.int)]),z=[].concat(C,[h("channelId",I.id,"ch"),h("toId",I.id,"ak"),h("amount",I.int),h("ttl",I.int),h("fee",I.int),h("stateHash",I.binary,"st"),h("round",I.int),h("nonce",I.int)]),J=[].concat(C,[h("channelId",I.id,"ch"),h("fromId",I.id,"ak"),h("initiatorAmountFinal",I.int),h("responderAmountFinal",I.int),h("ttl",I.int),h("fee",I.int),h("nonce",I.int)]),Z=[].concat(C,[h("channelId",I.id,"ch"),h("fromId",I.id,"ak"),h("payload",I.binary,"tx"),h("poi",I.binary,"pi"),h("ttl",I.int),h("fee",I.int),h("nonce",I.int)]),$=[].concat(C,[h("channelId",I.id,"ch"),h("fromId",I.id,"ak"),h("payload",I.binary,"tx"),h("poi",I.binary,"pi"),h("ttl",I.int),h("fee",I.int),h("nonce",I.int)]),tt=[].concat(C,[h("channelId",I.id,"ch"),h("fromId",I.id,"ak"),h("initiatorAmountFinal",I.int),h("responderAmountFinal",I.int),h("ttl",I.int),h("fee",I.int),h("nonce",I.int)]),et=[].concat(C,[h("channelId",I.id,"ch"),h("round",I.int),h("updates",I.offChainUpdates),h("stateHash",I.binary,"st")]),nt=[].concat(C,[h("channelId",I.id,"ch"),h("round",I.int),h("stateHash",I.binary,"st")]),rt=[].concat(C,[h("initiator",I.id,"ak"),h("responder",I.id,"ak"),h("channelAmount",I.int),h("initiatorAmount",I.int),h("responderAmount",I.int),h("channelReserve",I.int),h("delegateIds",I.ids),h("stateHash",I.hex),h("round",I.int),h("soloRound",I.int),h("lockPeriod",I.int),h("lockedUntil",I.int)]),at=[].concat(C,[h("initiator",I.id,"ak"),h("responder",I.id,"ak"),h("channelAmount",I.int),h("initiatorAmount",I.int),h("responderAmount",I.int),h("channelReserve",I.int),h("delegateIds",I.ids),h("stateHash",I.hex),h("round",I.int),h("soloRound",I.int),h("lockPeriod",I.int),h("lockedUntil",I.int),h("initiatorAuth",I.binary,"cb"),h("responderAuth",I.binary,"cb")]),ut=[].concat(C,[h("channelId",I.id,"ch"),h("fromId",I.id,"ak"),h("payload",I.binary,"tx"),h("ttl",I.int),h("fee",I.int),h("nonce",I.int)]),ot=[].concat(C,[h("owner",I.id,"ak"),h("ctVersion",I.int),h("code",I.binary,"cb"),h("deposit",I.int),h("callData",I.binary,"cb")]),it=[].concat(C,[h("caller",I.id,"ak"),h("contract",I.id,"ct"),h("abiVersion",I.int),h("amount",I.int),h("callData",I.binary,"cb"),h("callStack",I.callStack),h("gasPrice",I.int),h("gasLimit",I.int)]),st=[].concat(C,[h("from",I.id,"ak"),h("to",I.id,"ak"),h("amount",I.int)]),ct=[].concat(C,[h("from",I.id,"ak"),h("amount",I.int)]),ft=[].concat(C,[h("from",I.id,"ak"),h("amount",I.int)]),lt=[].concat(C,[h("accounts",I.mptrees),h("calls",I.mptrees),h("channels",I.mptrees),h("contracts",I.mptrees),h("ns",I.mptrees),h("oracles",I.mptrees)]),dt=[].concat(C,[h("contracts",I.rlpBinary),h("calls",I.rlpBinary),h("channels",I.rlpBinary),h("ns",I.rlpBinary),h("oracles",I.rlpBinary),h("accounts",I.rlpBinary)]),pt=[].concat(C,[h("values",I.rlpBinaries)]),ht=[].concat(C,[h("key",I.hex),h("value",I.rawBinary)]),vt=[].concat(C,[h("contracts",I.rlpBinary)]),mt=[].concat(C,[h("calls",I.rlpBinary)]),yt=[].concat(C,[h("channels",I.rlpBinary)]),gt=[].concat(C,[h("mtree",I.rlpBinary)]),xt=[].concat(C,[h("otree",I.rlpBinary)]),bt=[].concat(C,[h("accounts",I.rlpBinary)]),wt=(c={},(0,l.default)(c,m.account,{1:v(O,10),2:v(j,10)}),(0,l.default)(c,m.signed,{1:v(R,11)}),(0,l.default)(c,m.spend,{1:v(B,12)}),(0,l.default)(c,m.namePreClaim,{1:v(M,33)}),(0,l.default)(c,m.nameClaim,{1:v(N,32)}),(0,l.default)(c,m.nameUpdate,{1:v(L,34)}),(0,l.default)(c,m.nameTransfer,{1:v(F,36)}),(0,l.default)(c,m.nameRevoke,{1:v(D,35)}),(0,l.default)(c,m.contract,{1:v(V,40)}),(0,l.default)(c,m.contractCreate,{1:v(U,42)}),(0,l.default)(c,m.contractCall,{1:v(q,43)}),(0,l.default)(c,m.contractCallResult,{1:v(Y,41)}),(0,l.default)(c,m.oracleRegister,{1:v(H,22)}),(0,l.default)(c,m.oracleExtend,{1:v(K,25)}),(0,l.default)(c,m.oracleQuery,{1:v(X,23)}),(0,l.default)(c,m.oracleResponse,{1:v(G,24)}),(0,l.default)(c,m.channelCreate,{1:v(W,50)}),(0,l.default)(c,m.channelCloseMutual,{1:v(J,53)}),(0,l.default)(c,m.channelCloseSolo,{1:v(Z,54)}),(0,l.default)(c,m.channelSlash,{1:v($,55)}),(0,l.default)(c,m.channelDeposit,{1:v(Q,51)}),(0,l.default)(c,m.channelWithdraw,{1:v(z,52)}),(0,l.default)(c,m.channelSettle,{1:v(tt,56)}),(0,l.default)(c,m.channelOffChain,{1:v(et,57),2:v(nt,57)}),(0,l.default)(c,m.channel,{1:v(rt,58),2:v(at,58)}),(0,l.default)(c,m.channelSnapshotSolo,{1:v(ut,59)}),(0,l.default)(c,m.channelOffChainUpdateTransfer,{1:v(st,570)}),(0,l.default)(c,m.channelOffChainUpdateDeposit,{1:v(ct,571)}),(0,l.default)(c,m.channelOffChainUpdateWithdrawal,{1:v(ft,572)}),(0,l.default)(c,m.channelOffChainCreateContract,{1:v(ot,573)}),(0,l.default)(c,m.channelOffChainCallContract,{1:v(it,574)}),(0,l.default)(c,m.proofOfInclusion,{1:v(lt,60)}),(0,l.default)(c,m.stateTrees,{1:v(dt,62)}),(0,l.default)(c,m.merklePatriciaTree,{1:v(pt,63)}),(0,l.default)(c,m.merklePatriciaTreeValue,{1:v(ht,64)}),(0,l.default)(c,m.contractsTree,{1:v(vt,621)}),(0,l.default)(c,m.contractCallsTree,{1:v(mt,622)}),(0,l.default)(c,m.channelsTree,{1:v(yt,623)}),(0,l.default)(c,m.nameserviceTree,{1:v(gt,624)}),(0,l.default)(c,m.oraclesTree,{1:v(xt,625)}),(0,l.default)(c,m.accountsTree,{1:v(bt,626)}),c);e.TX_SERIALIZATION_SCHEMA=wt;var Tt=(f={},(0,l.default)(f,10,{1:v(O,10),2:v(j,10)}),(0,l.default)(f,11,{1:v(R,11)}),(0,l.default)(f,12,{1:v(B,12)}),(0,l.default)(f,33,{1:v(M,33)}),(0,l.default)(f,32,{1:v(N,32)}),(0,l.default)(f,34,{1:v(L,34)}),(0,l.default)(f,36,{1:v(F,36)}),(0,l.default)(f,35,{1:v(D,35)}),(0,l.default)(f,40,{1:v(V,40)}),(0,l.default)(f,42,{1:v(U,42)}),(0,l.default)(f,43,{1:v(q,43)}),(0,l.default)(f,41,{1:v(Y,41)}),(0,l.default)(f,22,{1:v(H,22)}),(0,l.default)(f,25,{1:v(K,25)}),(0,l.default)(f,23,{1:v(X,23)}),(0,l.default)(f,24,{1:v(G,24)}),(0,l.default)(f,50,{1:v(W,50)}),(0,l.default)(f,53,{1:v(J,53)}),(0,l.default)(f,54,{1:v(Z,54)}),(0,l.default)(f,55,{1:v($,55)}),(0,l.default)(f,51,{1:v(Q,51)}),(0,l.default)(f,52,{1:v(z,52)}),(0,l.default)(f,56,{1:v(tt,56)}),(0,l.default)(f,57,{1:v(et,57),2:v(nt,57)}),(0,l.default)(f,58,{1:v(rt,58),2:v(at,58)}),(0,l.default)(f,59,{1:v(ut,59)}),(0,l.default)(f,570,{1:v(st,570)}),(0,l.default)(f,571,{1:v(ct,571)}),(0,l.default)(f,572,{1:v(ft,572)}),(0,l.default)(f,573,{1:v(ot,573)}),(0,l.default)(f,574,{1:v(it,574)}),(0,l.default)(f,60,{1:v(lt,60)}),(0,l.default)(f,62,{1:v(dt,62)}),(0,l.default)(f,63,{1:v(pt,63)}),(0,l.default)(f,64,{1:v(ht,64)}),(0,l.default)(f,621,{1:v(vt,621)}),(0,l.default)(f,622,{1:v(mt,622)}),(0,l.default)(f,623,{1:v(yt,623)}),(0,l.default)(f,624,{1:v(gt,624)}),(0,l.default)(f,625,{1:v(xt,625)}),(0,l.default)(f,626,{1:v(bt,626)}),f);e.TX_DESERIALIZATION_SCHEMA=Tt;var _t="error",It="warning",Et=function(t,e,n){return[t,e,n]},kt="insufficientFee",At="expiredTTL",Pt="insufficientBalanceForAmountFee",St="insufficientBalanceForAmount",Ct="nonceUsed",Ot="nonceHigh",jt="minGasPrice",Bt={invalidSignature:{key:"InvalidSignature",type:_t,txKey:"signature"},insufficientFee:{key:"InsufficientFee",type:_t,txKey:"fee"},expiredTTL:{key:"ExpiredTTL",type:_t,txKey:"ttl"},insufficientBalanceForAmountFee:{key:"InsufficientBalanceForAmountFee",type:It,txKey:"fee"},insufficientBalanceForAmount:{key:"InsufficientBalanceForAmount",type:It,txKey:"amount"},nonceUsed:{key:"NonceUsed",type:_t,txKey:"nonce"},nonceHigh:{key:"NonceHigh",type:It,txKey:"nonce"},minGasPrice:{key:"minGasPrice",type:_t,txKey:"gasPrice"}},Rt=[Et(function(){return"The signature cannot be verified, please verify that you used the correct network id and the correct private key for the sender address"},"signature",Bt.invalidSignature)];e.SIGNATURE_VERIFICATION_SCHEMA=Rt;var Mt=[Et(function(t){var e=t.minFee;return"The fee for the transaction is too low, the minimum fee for this transaction is ".concat(e)},kt,Bt.insufficientFee),Et(function(t){var e=t.height;return"The TTL is already expired, the current height is ".concat(e)},At,Bt.expiredTTL),Et(function(t){var e=t.balance;return"The account balance ".concat(e," is not enough to execute the transaction")},Pt,Bt.insufficientBalanceForAmountFee),Et(function(t){var e=t.balance;return"The account balance ".concat(e," is not enough to execute the transaction")},St,Bt.insufficientBalanceForAmount),Et(function(t){var e=t.accountNonce;return"The nonce is invalid(already used). Next valid nonce is ".concat(e+1,")")},Ct,Bt.nonceUsed),Et(function(t){var e=t.accountNonce;return"The nonce is technically valid but will not be processed immediately by the node (next valid nonce is ".concat(e+1,")")},Ot,Bt.nonceHigh),Et(function(){return"The gasPrice must be bigger then ".concat(1e9)},jt,Bt.minGasPrice)];e.BASE_VERIFICATION_SCHEMA=Mt},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e,n){"use strict";(function(t){var r=n(20),a=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=a(n(2)),o=a(n(3)),i=a(n(8)),s=n(22),c=r(n(5)),f=n(21),l=n(23),d="ae_mainnet";function p(){return(p=(0,o.default)(u.default.mark(function e(n){var r,a,o,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getNetworkId(),a=c.decodeBase64Check(c.assertedType(n,"tx")),o=t.concat([t.from(r),a]),e.next=5,this.sign(o);case 5:return e.t0=e.sent,i=[e.t0],e.abrupt("return",(0,f.buildTx)({encodedTx:a,signatures:i},l.TX_TYPE.signed).tx);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var h=(0,i.default)({init:function(t){var e=t.networkId;!this.networkId&&e&&(this.networkId=e)},methods:{signTransaction:function(t){return p.apply(this,arguments)},getNetworkId:function(){return this.networkId||this.nodeNetworkId||d}},deepConf:{Ae:{methods:["sign","address","signTransaction","getNetworkId"]}}},(0,s.required)({methods:{sign:s.required,address:s.required}}));e.default=h}).call(this,n(7).Buffer)},function(t,e,n){var r=n(65),a=n(123),u=n(124);function o(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function i(t,e,n,r){return t["@@transducer/result"](n[r](u(t["@@transducer/step"],t),e))}var s="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";t.exports=function(t,e,n){if("function"==typeof t&&(t=a(t)),r(n))return function(t,e,n){for(var r=0,a=n.length;r<a;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return i(t,e,n,"fantasy-land/reduce");if(null!=n[s])return o(t,e,n[s]());if("function"==typeof n.next)return o(t,e,n);if("function"==typeof n.reduce)return i(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}},function(t,e,n){var r=n(4)(function(t){for(var e={},n=0;n<t.length;)e[t[n][0]]=t[n][1],n+=1;return e});t.exports=r},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(36)),u=r(n(68)),o=r(n(62)),i=r(n(153)),s=r(n(154)),c=r(n(2)),f=r(n(3));function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.stamp,r=e.args,a=e.instance;return n.compose.deepConfiguration.AsyncInit.initializers.reduce(function(){var e=(0,f.default)(c.default.mark(function e(a,u){var o;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(a);case 2:if(a=e.sent,"function"!=typeof u){e.next=8;break}return e.next=6,Promise.resolve(u.call(a,t,{stamp:n,args:r,instance:a}));case 6:return o=e.sent,e.abrupt("return",void 0===o?a:o);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),a)}var d=(0,r(n(8)).default)({deepConf:{AsyncInit:{initializers:[]}},composers:function(t){var e=t.stamp,n=t.composables;e.compose.deepConfiguration.AsyncInit.initializers=(0,s.default)([l],(0,i.default)(o.default,(0,u.default)(n.map(function(t){return(0,a.default)(["compose","deepConfiguration","AsyncInit","initializers"],t)||(t.compose||t).initializers||[]})))),e.compose.initializers=[l]}});e.default=d},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.leftPad=function(e,n){var r=e-n.length;if(r>0){var a=new Uint8Array(r);return a.fill(0,r),t.concat([a,n])}return n},e.rightPad=function(e,n){var r=e-n.length;if(r>0){var a=new Uint8Array(r);return a.fill(0,r),t.concat([n,a])}return n},e.bigNumberToByteArray=a,e.toBytes=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===t)return;if(Number.isInteger(t)||r.BigNumber.isBigNumber(t)||e)return r.BigNumber.isBigNumber(t)||(t=(0,r.BigNumber)(t)),a(t);if("string"==typeof t)return t.toString("utf-8");throw new Error("Byte serialization not supported")};var r=n(13);function a(e){var n=e.toString(16);return n.length%2>0&&(n="0"+n),t.from(n,"hex")}}).call(this,n(7).Buffer)},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(2)),u=r(n(32)),o=r(n(66)),i=r(n(35)),s=r(n(3)),c=r(n(8)),f=r(n(45)),l=r(n(126)),d=r(n(157)),p=n(158);function h(t,e){return new p.URL(t,e).toString()}function v(t){return m.apply(this,arguments)}function m(){return(m=(0,s.default)(a.default.mark(function t(e){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.default.get(h("api",e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var y=function(t){var e=t.url,n=t.internalUrl;return function(t,r){var a=r.tags,s=r.operationId;if((0,i.default)("external",a))return h(t,e);if(!(0,o.default)(n)&&(0,i.default)("internal",a))return h(t,n);throw Error("Method ".concat(s," is unsupported. No interface for ").concat((0,u.default)(a)))}};function g(){return(g=(0,s.default)(a.default.mark(function t(){var e,n,r,u,o=arguments;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:[],n=o.length>1?o[1]:void 0,e){t.next=4;break}throw new Error("Protocols must be an array");case 4:if(n){t.next=8;break}return t.next=7,this.api.getCurrentKeyBlock();case 7:n=t.sent.height;case 8:if(!(n<0)){t.next=10;break}throw new Error("height must be a number >= 0");case 10:return r=e.reduce(function(t,e){var r=t.effectiveAtHeight,a=t.version;return n>=e.effectiveAtHeight&&e.effectiveAtHeight>r?{effectiveAtHeight:e.effectiveAtHeight,version:e.version}:{effectiveAtHeight:r,version:a}},{effectiveAtHeight:-1,version:0}),u=r.version,t.abrupt("return",u);case 12:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var x=(0,c.default)({init:function(){var t=(0,s.default)(a.default.mark(function t(e){var n,r,u,o,i;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,r=void 0===n?this.url:n,u=e.internalUrl,o=void 0===u?this.internalUrl:u,r=r.replace(/\/?$/,"/"),t.next=4,v(r);case 4:return i=t.sent,this.version=i.info.version,t.abrupt("return",Object.assign(this,{url:r,internalUrl:o,swag:i,urlFor:y({url:r,internalUrl:o})}));case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),methods:{getNodeInfo:function(){return{url:this.url,internalUrl:this.internalUrl,nodeNetworkId:this.nodeNetworkId,version:this.version}},getConsensusProtocolVersion:function(){return g.apply(this,arguments)}},props:{version:null,consensusProtocolVersion:null,nodeNetworkId:null}},l.default,{init:function(){var t=(0,s.default)(a.default.mark(function t(e){var n,r,u,o,i,s,c;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.forceCompatibility,r=void 0!==n&&n,t.next=3,this.api.getStatus();case 3:return u=t.sent,o=u.nodeRevision,i=u.genesisKeyBlockHash,s=u.networkId,c=u.protocols,t.next=10,this.getConsensusProtocolVersion(c);case 10:if(this.consensusProtocolVersion=t.sent,(0,d.default)(this.version.split("-")[0],b,w)||r){t.next=13;break}throw new Error("Unsupported node version ".concat(this.version,". ")+"Supported: >= ".concat(b," < ").concat(w));case 13:return this.nodeNetworkId=s,t.abrupt("return",Object.assign(this,{revision:o,genesisHash:i}));case 15:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}),b="2.3.0",w="4.0.0",T=x;e.default=T},function(t,e,n){var r=n(4),a=n(110),u=r(function(t){return a(t,[])});t.exports=u},function(t,e,n){var r=n(111);t.exports=function(t,e){return r(e,t,0)>=0}},function(t,e){t.exports=function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,a){return e.apply(this,arguments)};case 5:return function(t,n,r,a,u){return e.apply(this,arguments)};case 6:return function(t,n,r,a,u,o){return e.apply(this,arguments)};case 7:return function(t,n,r,a,u,o,i){return e.apply(this,arguments)};case 8:return function(t,n,r,a,u,o,i,s){return e.apply(this,arguments)};case 9:return function(t,n,r,a,u,o,i,s,c){return e.apply(this,arguments)};case 10:return function(t,n,r,a,u,o,i,s,c,f){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(t,e,n){var r=n(33),a=n(1)(r);t.exports=a},function(t,e,n){var r=n(1)(function(t,e){for(var n=e,r=0;r<t.length;){if(null==n)return;n=n[t[r]],r+=1}return n});t.exports=r},function(t,e,n){var r=n(34),a=n(4),u=n(1),o=n(47),i=u(function(t,e){return 1===t?a(e):r(t,o(t,[],e))});t.exports=i},function(t,e,n){"use strict";(function(t){var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ContractWithCompiler=e.Contract=void 0;var a=r(n(6)),u=r(n(2)),o=r(n(11)),i=r(n(3)),s=r(n(17)),c=n(5),f=r(n(83)),l=r(n(162)),d=r(n(52));function p(){return(p=(0,i.default)(u.default.mark(function e(n){var r,a,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.from(n.returnValue).toString(),!(0,c.isBase64)(r.slice(3))){e.next=4;break}throw a=t.from(r.slice(3),"base64").toString(),Object.assign(Error("Invocation failed: ".concat(r,". Decoded: ").concat(a)),(0,o.default)(n,{error:r,decodedError:a}));case 4:return e.next=6,this.contractDecodeData("string",r);case 6:throw i=e.sent,Object.assign(Error("Invocation failed: ".concat(r,". Decoded: ").concat(i)),(0,o.default)(n,{error:r,decodedError:i}));case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function h(){return(h=(0,i.default)(u.default.mark(function t(e,n,r){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.contractEncodeCallDataAPI(e,n,r));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function v(){return(v=(0,i.default)(u.default.mark(function t(e,n){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.contractDecodeDataAPI(e,n));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function m(){return(m=(0,i.default)(u.default.mark(function t(e,n,r){var i,s,c,f,l,d,p,h,v,m,y,g,x,b,w=this,T=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=T.length>3&&void 0!==T[3]?T[3]:[],s=T.length>4&&void 0!==T[4]?T[4]:{},c=s.top,f=s.options,l=void 0===f?{}:f,d=(0,o.default)(this.Ae.defaults,l),t.t0=this,t.t1=o.default,t.t2=d,t.next=8,this.address();case 8:return t.t3=t.sent,t.t4=n,t.next=12,this.contractEncodeCall(e,r,i);case 12:return t.t5=t.sent,t.t6={callerId:t.t3,contractId:t.t4,callData:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=17,t.t0.contractCallTx.call(t.t0,t.t7);case 17:if(p=t.sent,!c||isNaN(c)){t.next=22;break}return t.next=21,this.getKeyBlock(c);case 21:c=t.sent.hash;case 22:return t.t8=a.default,t.t9=this,t.t10=[p],t.t11=d.amount,t.next=28,this.address();case 28:return t.t12=t.sent,t.t13={amount:t.t11,pubKey:t.t12},t.t14=[t.t13],t.t15=c,t.next=34,t.t9.txDryRun.call(t.t9,t.t10,t.t14,t.t15);case 34:if(t.t16=t.sent.results,h=(0,t.t8)(t.t16,1),v=h[0],m=v.result,y=v.callObj,g=v.reason,"ok"===m){t.next=42;break}throw new Error("Dry run error, "+g);case 42:if(x=y.returnType,b=y.returnValue,"ok"===x){t.next=46;break}return t.next=46,this.handleCallError(y);case 46:return t.abrupt("return",{result:y,decode:function(t){return w.contractDecodeData(t,b)}});case 47:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function y(){return(y=(0,i.default)(u.default.mark(function t(e,n,r){var a,i,s,c,f,l,d,p,h=this,v=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=v.length>3&&void 0!==v[3]?v[3]:[],i=v.length>4&&void 0!==v[4]?v[4]:{},s=(0,o.default)(this.Ae.defaults,i),t.t0=this,t.t1=o.default,t.t2=s,t.next=8,this.address();case 8:return t.t3=t.sent,t.t4=n,t.next=12,this.contractEncodeCall(e,r,a);case 12:return t.t5=t.sent,t.t6={callerId:t.t3,contractId:t.t4,callData:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=17,t.t0.contractCallTx.call(t.t0,t.t7);case 17:return c=t.sent,t.next=20,this.send(c,s);case 20:return f=t.sent,l=f.hash,d=f.rawTx,t.next=25,this.getTxInfo(l);case 25:if("ok"!==(p=t.sent).returnType){t.next=30;break}return t.abrupt("return",{hash:l,rawTx:d,result:p,decode:function(t){return h.contractDecodeData(t,p.returnValue)}});case 30:return t.next=32,this.handleCallError(p);case 32:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function g(){return(g=(0,i.default)(u.default.mark(function t(e,n){var r,a,s,c,f,l,d,p,h,v,m,y,g=this,x=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=x.length>2&&void 0!==x[2]?x[2]:[],a=x.length>3&&void 0!==x[3]?x[3]:{},s=(0,o.default)(this.Ae.defaults,a),t.next=5,this.contractEncodeCall(n,"init",r);case 5:return c=t.sent,t.next=8,this.address();case 8:return f=t.sent,t.next=11,this.contractCreateTx((0,o.default)(s,{callData:c,code:e,ownerId:f}));case 11:return l=t.sent,d=l.tx,p=l.contractId,t.next=16,this.send(d,s);case 16:return h=t.sent,v=h.hash,m=h.rawTx,t.next=21,this.getTxInfo(v);case 21:if("ok"!==(y=t.sent).returnType){t.next=26;break}return t.abrupt("return",Object.freeze({result:y,owner:f,transaction:v,rawTx:m,address:p,call:function(){var t=(0,i.default)(u.default.mark(function t(e){var r,a,o=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:[],a=o.length>2?o[2]:void 0,t.abrupt("return",g.contractCall(n,p,e,r,a));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),callStatic:function(){var t=(0,i.default)(u.default.mark(function t(e){var r,a,o=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:[],a=o.length>2?o[2]:void 0,t.abrupt("return",g.contractCallStatic(n,p,e,r,a));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),createdAt:new Date}));case 26:return t.next=28,this.handleCallError(y);case 28:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function x(){return(x=(0,i.default)(u.default.mark(function t(e){var n,r,a=this,o=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},t.next=3,this.compileContractAPI(e,n);case 3:return r=t.sent,t.abrupt("return",Object.freeze(Object.assign({encodeCall:function(){var t=(0,i.default)(u.default.mark(function t(n,r){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a.contractEncodeCall(e,n,r));case 1:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),deploy:function(){var t=(0,i.default)(u.default.mark(function t(n){var o,i=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.length>1&&void 0!==i[1]?i[1]:{},t.abrupt("return",a.contractDeploy(r,e,n,o));case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{bytecode:r})));case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var b=s.default.compose(d.default,l.default,{methods:{contractCompile:function(t){return x.apply(this,arguments)},contractCallStatic:function(t,e,n){return m.apply(this,arguments)},contractDeploy:function(t,e){return g.apply(this,arguments)},contractCall:function(t,e,n){return y.apply(this,arguments)},contractEncodeCall:function(t,e,n){return h.apply(this,arguments)},contractDecodeData:function(t,e){return v.apply(this,arguments)},handleCallError:function(t){return p.apply(this,arguments)}},deepProps:{Ae:{defaults:{deposit:0,gasPrice:1e9,amount:0,gas:1579e3,options:""}}}});e.Contract=b;var w=b.compose(f.default);e.ContractWithCompiler=w;var T=w;e.default=T}).call(this,n(7).Buffer)},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(8)),u=n(22),o=(0,a.default)({deepConf:{Ae:{methods:["spendTx","namePreclaimTx","nameClaimTx","nameTransferTx","nameUpdateTx","nameRevokeTx","contractCreateTx","contractCallTx","oracleRegisterTx","oracleExtendTx","oraclePostQueryTx","oracleRespondTx","getAccountNonce"]}}},(0,u.required)({methods:{spendTx:u.required,namePreclaimTx:u.required,nameClaimTx:u.required,nameTransferTx:u.required,nameUpdateTx:u.required,nameRevokeTx:u.required,contractCreateTx:u.required,contractCallTx:u.required,oracleRegisterTx:u.required,oracleExtendTx:u.required,oraclePostQueryTx:u.required,oracleRespondTx:u.required,getAccountNonce:u.required}}));e.default=o},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(58)),u=n(22),o=a.default.compose({deepProps:{Chain:{defaults:{waitMined:!0}}},statics:{waitMined:function(t){return this.deepProps({Chain:{defaults:{waitMined:t}}})}},deepConf:{Ae:{methods:["sendTransaction","height","awaitHeight","poll","balance","tx","mempool","topBlock","getTxInfo","txDryRun","getName","getNodeInfo"]}}},(0,u.required)({methods:{sendTransaction:u.required,height:u.required,awaitHeight:u.required,topBlock:u.required,poll:u.required,balance:u.required,tx:u.required,getTxInfo:u.required,mempool:u.required,txDryRun:u.required}}));e.default=o},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(12)),u=r(n(42)),o=r(n(2)),i=r(n(9)),s=r(n(11)),c=r(n(3)),f=r(n(40)),l=r(n(31)),d=r(n(80)),p=r(n(159)),h=r(n(81));function v(){return(v=(0,c.default)(o.default.mark(function t(e){var n,r,a,u,c,f,l,d,p,h,v=this,m=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=m.length>1&&void 0!==m[1]?m[1]:{},r=(0,s.default)(this.Chain.defaults,n),a=r.waitMined,u=r.verify,!this.verifyTxBeforeSend&&!u){t.next=11;break}return t.next=5,this.unpackAndVerify(e);case 5:if(c=t.sent,f=c.validation,l=c.tx,d=c.txType,!f.length){t.next=11;break}throw Object.assign(Error("Transaction verification error"),{code:"TX_VERIFICATION_ERROR",errorData:{validation:f,tx:l,txType:d},txHash:e});case 11:return t.prev=11,t.next=14,this.api.postTransaction({tx:e});case 14:if(p=t.sent,h=p.txHash,!a){t.next=26;break}return t.t1=i.default,t.t2={},t.next=21,this.poll(h,n);case 21:t.t3=t.sent,t.t4={rawTx:e},t.t0=(0,t.t1)(t.t2,t.t3,t.t4),t.next=27;break;case 26:t.t0={hash:h,rawTx:e};case 27:return t.abrupt("return",t.t0);case 30:throw t.prev=30,t.t5=t.catch(11),Object.assign(new Error(t.t5.message),{rawTx:e,verifyTx:function(){return v.unpackAndVerify(e)}});case 33:case"end":return t.stop()}},t,this,[[11,30]])}))).apply(this,arguments)}function m(){return(m=(0,c.default)(o.default.mark(function t(e){var n,r,a,u=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.height,a=n.hash,!r){t.next=3;break}return t.abrupt("return",this.api.getAccountByPubkeyAndHeight(e,r));case 3:if(!a){t.next=5;break}return t.abrupt("return",this.api.getAccountByPubkeyAndHash(e,a));case 5:return t.abrupt("return",this.api.getAccountByPubkey(e));case 6:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function y(){return(y=(0,c.default)(o.default.mark(function t(e){var n,r,a,u,i,s,c,f=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.height,a=n.hash,u=n.format,i=void 0!==u&&u,t.next=3,this.getAccount(e,{hash:a,height:r});case 3:return s=t.sent,c=s.balance,t.abrupt("return",i?(0,p.default)(c):c.toString());case 6:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function g(){return(g=(0,c.default)(o.default.mark(function t(e){var n,r,a=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],t.next=3,this.api.getTransactionByHash(e);case 3:if(r=t.sent,!["ContractCreateTx","ContractCallTx"].includes(r.tx.type)||!n){t.next=18;break}return t.prev=5,t.t0=i.default,t.t1={},t.t2=r,t.next=11,this.getTxInfo(e);case 11:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 15:return t.prev=15,t.t4=t.catch(5),t.abrupt("return",r);case 18:return t.abrupt("return",r);case 19:case"end":return t.stop()}},t,this,[[5,15]])}))).apply(this,arguments)}function x(){return(x=(0,c.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getCurrentKeyBlockHeight();case 2:return t.abrupt("return",t.sent.height);case 3:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function b(t){return w.apply(this,arguments)}function w(){return(w=(0,c.default)(o.default.mark(function t(e){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t){return setTimeout(t,e)});case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function T(){return(T=(0,c.default)(o.default.mark(function t(e){var n,r,a,u,i,s,f,l,d=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=function(){return(l=(0,c.default)(o.default.mark(function t(n){var r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.height();case 2:if(!((r=t.sent)>=e)){t.next=5;break}return t.abrupt("return",r);case 5:if(!(n>0)){t.next=9;break}return t.next=8,b(a);case 8:return t.abrupt("return",f(n-1));case 9:throw Error("Giving up after ".concat(i*a,"ms, current=").concat(r,", h=").concat(e));case 10:case"end":return t.stop()}},t,this)}))).apply(this,arguments)},f=function(t){return l.apply(this,arguments)},n=d.length>1&&void 0!==d[1]?d[1]:{},r=n.interval,a=void 0===r?5e3:r,u=n.attempts,i=void 0===u?20:u,s=this,t.abrupt("return",f(i));case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function _(){return(_=(0,c.default)(o.default.mark(function t(){var e;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getTopBlock();case 2:return e=t.sent,t.abrupt("return",e[(0,u.default)((0,a.default)(e))]);case 4:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function I(){return(I=(0,c.default)(o.default.mark(function t(e){var n,r,a,u,i,s,f,l,d,p=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return d=function(){return(d=(0,c.default)(o.default.mark(function t(){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.tx(e);case 2:if(-1===(n=t.sent).blockHeight){t.next=5;break}return t.abrupt("return",n);case 5:return t.next=7,s.height();case 7:if(t.t0=t.sent,t.t1=f,!(t.t0<t.t1)){t.next=13;break}return t.next=12,b(i);case 12:return t.abrupt("return",l());case 13:throw new Error("Giving up after ".concat(a," blocks mined. TxHash ").concat(e));case 14:case"end":return t.stop()}},t,this)}))).apply(this,arguments)},l=function(){return d.apply(this,arguments)},n=p.length>1&&void 0!==p[1]?p[1]:{},r=n.blocks,a=void 0===r?10:r,u=n.interval,i=void 0===u?5e3:u,s=this,t.next=6,this.height();case 6:return t.t0=t.sent,t.t1=a,f=t.t0+t.t1,t.abrupt("return",l());case 10:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function E(){return(E=(0,c.default)(o.default.mark(function t(e){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getTransactionInfoByHash(e).then(function(t){return t.callInfo?t.callInfo:t}));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function k(){return(k=(0,c.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getPendingTransactions());case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function A(){return(A=(0,c.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getCurrentGeneration());case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function P(){return(P=(0,c.default)(o.default.mark(function t(e){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=2;break}return t.abrupt("return",this.api.getGenerationByHash(e));case 2:if("number"!=typeof e){t.next=4;break}return t.abrupt("return",this.api.getGenerationByHeight(e));case 4:throw new Error("Invalid param, param must be hash or height");case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function S(){return(S=(0,c.default)(o.default.mark(function t(e){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getMicroBlockTransactionsByHash(e);case 2:return t.abrupt("return",t.sent.transactions);case 3:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function C(){return(C=(0,c.default)(o.default.mark(function t(e){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=2;break}return t.abrupt("return",this.api.getKeyBlockByHash(e));case 2:if("number"!=typeof e){t.next=4;break}return t.abrupt("return",this.api.getKeyBlockByHeight(e));case 4:throw new Error("Invalid param, param must be hash or height");case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function O(){return(O=(0,c.default)(o.default.mark(function t(e){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getMicroBlockHeaderByHash(e));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function j(){return(j=(0,c.default)(o.default.mark(function t(e,n,r){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.dryRunTxs({txs:e,accounts:n,top:r}));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function B(){return(B=(0,c.default)(o.default.mark(function t(e){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getContractCode(e));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function R(){return(R=(0,c.default)(o.default.mark(function t(e){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getNameEntryByName(e));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var M=f.default.compose(l.default,d.default,h.default,{init:function(t){var e=t.verifyTx,n=void 0!==e&&e;this.verifyTxBeforeSend=n},methods:{sendTransaction:function(t){return v.apply(this,arguments)},balance:function(t){return y.apply(this,arguments)},getAccount:function(t){return m.apply(this,arguments)},topBlock:function(){return _.apply(this,arguments)},tx:function(t){return g.apply(this,arguments)},height:function(){return x.apply(this,arguments)},awaitHeight:function(t){return T.apply(this,arguments)},poll:function(t){return I.apply(this,arguments)},getTxInfo:function(t){return E.apply(this,arguments)},mempool:function(){return k.apply(this,arguments)},getCurrentGeneration:function(){return A.apply(this,arguments)},getGeneration:function(t){return P.apply(this,arguments)},getMicroBlockHeader:function(t){return O.apply(this,arguments)},getMicroBlockTransactions:function(t){return S.apply(this,arguments)},getKeyBlock:function(t){return C.apply(this,arguments)},txDryRun:function(t,e,n){return j.apply(this,arguments)},getContractByteCode:function(t){return B.apply(this,arguments)},getName:function(t){return R.apply(this,arguments)}}});e.default=M},function(t,e,n){var r=n(59)(0);t.exports=r},function(t,e,n){var r=n(118),a=n(1),u=n(119),o=a(function(t,e){return u(r(t),e)});t.exports=o},function(t,e){t.exports=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)}},function(t,e){t.exports=r},function(t,e,n){var r=n(4),a=n(1),u=n(30);t.exports=function(t){return function e(n,o,i){switch(arguments.length){case 0:return e;case 1:return u(n)?e:a(function(e,r){return t(n,e,r)});case 2:return u(n)&&u(o)?e:u(n)?a(function(e,n){return t(e,o,n)}):u(o)?a(function(e,r){return t(n,e,r)}):r(function(e){return t(n,o,e)});default:return u(n)&&u(o)&&u(i)?e:u(n)&&u(o)?a(function(e,n){return t(e,n,i)}):u(n)&&u(i)?a(function(e,n){return t(e,o,n)}):u(o)&&u(i)?a(function(e,r){return t(n,e,r)}):u(n)?r(function(e){return t(e,o,i)}):u(o)?r(function(e){return t(n,e,i)}):u(i)?r(function(e){return t(n,o,e)}):t(n,o,i)}}}},function(t,e,n){var r=n(34),a=n(30);t.exports=function t(e,n,u){return function(){for(var o=[],i=0,s=e,c=0;c<n.length||i<arguments.length;){var f;c<n.length&&(!a(n[c])||i>=arguments.length)?f=n[c]:(f=arguments[i],i+=1),o[c]=f,a(f)||(s-=1),c+=1}return s<=0?u.apply(this,o):r(s,t(e,o,u))}}},function(t,e,n){var r=n(1),a=n(151),u=n(37),o=n(32),i=r(function(t,e){return u(t+1,function(){var n=arguments[t];if(null!=n&&a(n[e]))return n[e].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError(o(n)+' does not have a method named "'+e+'"')})});t.exports=i},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.snakeToPascal=function(t){return t.replace(/_./g,function(t){return(0,u.default)(t[1])})},e.snakeOrKebabToPascal=function(t){return t.replace(/[_|-]./g,function(t){return(0,u.default)(t[1])})},e.pascalToSnake=function(t){return t.replace(/[A-Z]/g,function(t){return"_".concat((0,a.default)(t))})};var a=r(n(155)),u=r(n(156))},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(69)),u=r(n(2)),o=r(n(11)),i=r(n(42)),s=r(n(9)),c=r(n(35)),f=r(n(3)),l=r(n(39)),d=r(n(31)),p=n(21),h=n(23),v=n(14);function m(){return(m=(0,f.default)(u.default.mark(function t(e){var n,r,a,c,f,l,d,v,m,y,g,x=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.senderId,r=e.recipientId,a=e.amount,c=e.payload,f=void 0===c?"":c,t.next=3,this.prepareTxParams(h.TX_TYPE.spend,(0,s.default)({senderId:n},(0,i.default)(x),{payload:f}));case 3:if(l=t.sent,d=l.fee,v=l.ttl,m=l.nonce,!this.nativeMode){t.next=11;break}t.t0=(0,p.buildTx)((0,o.default)((0,i.default)(x),{recipientId:r,senderId:n,nonce:m,ttl:v,fee:d,payload:f}),h.TX_TYPE.spend),t.next=14;break;case 11:return t.next=13,this.api.postSpend((0,o.default)((0,i.default)(x),{amount:parseInt(a),recipientId:r,senderId:n,nonce:m,ttl:v,fee:parseInt(d),payload:f}));case 13:t.t0=t.sent;case 14:return y=t.t0,g=y.tx,t.abrupt("return",g);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function y(){return(y=(0,f.default)(u.default.mark(function t(e){var n,r,a,c,f,l,d,v=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.commitmentId,t.next=3,this.prepareTxParams(h.TX_TYPE.namePreClaim,(0,s.default)({senderId:n},(0,i.default)(v)));case 3:if(r=t.sent,a=r.fee,c=r.ttl,f=r.nonce,!this.nativeMode){t.next=11;break}t.t0=(0,p.buildTx)((0,o.default)((0,i.default)(v),{nonce:f,ttl:c,fee:a}),h.TX_TYPE.namePreClaim),t.next=14;break;case 11:return t.next=13,this.api.postNamePreclaim((0,o.default)((0,i.default)(v),{nonce:f,ttl:c,fee:parseInt(a)}));case 13:t.t0=t.sent;case 14:return l=t.t0,d=l.tx,t.abrupt("return",d);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function g(){return(g=(0,f.default)(u.default.mark(function t(e){var n,r,a,c,f,l,d,v=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.name,e.nameSalt,t.next=3,this.prepareTxParams(h.TX_TYPE.nameClaim,(0,s.default)({senderId:n},(0,i.default)(v)));case 3:if(r=t.sent,a=r.fee,c=r.ttl,f=r.nonce,!this.nativeMode){t.next=11;break}t.t0=(0,p.buildTx)((0,o.default)((0,i.default)(v),{nonce:f,ttl:c,fee:a}),h.TX_TYPE.nameClaim),t.next=14;break;case 11:return t.next=13,this.api.postNameClaim((0,o.default)((0,i.default)(v),{nonce:f,ttl:c,fee:parseInt(a)}));case 13:t.t0=t.sent;case 14:return l=t.t0,d=l.tx,t.abrupt("return",d);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function x(){return(x=(0,f.default)(u.default.mark(function t(e){var n,r,a,c,f,l,d,v,m=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.nameId,r=e.recipientId,t.next=3,this.prepareTxParams(h.TX_TYPE.nameTransfer,(0,s.default)({senderId:n},(0,i.default)(m)));case 3:if(a=t.sent,c=a.fee,f=a.ttl,l=a.nonce,!this.nativeMode){t.next=11;break}t.t0=(0,p.buildTx)((0,o.default)((0,i.default)(m),{recipientId:r,nonce:l,ttl:f,fee:c}),h.TX_TYPE.nameTransfer),t.next=14;break;case 11:return t.next=13,this.api.postNameTransfer((0,o.default)((0,i.default)(m),{recipientId:r,nonce:l,ttl:f,fee:parseInt(c)}));case 13:t.t0=t.sent;case 14:return d=t.t0,v=d.tx,t.abrupt("return",v);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function b(){return(b=(0,f.default)(u.default.mark(function t(e){var n,r,a,c,f,l,d,v=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.nameId,e.nameTtl,e.pointers,e.clientTtl,t.next=3,this.prepareTxParams(h.TX_TYPE.nameUpdate,(0,s.default)({senderId:n},(0,i.default)(v)));case 3:if(r=t.sent,a=r.fee,c=r.ttl,f=r.nonce,!this.nativeMode){t.next=11;break}t.t0=(0,p.buildTx)((0,o.default)((0,i.default)(v),{nonce:f,ttl:c,fee:a}),h.TX_TYPE.nameUpdate),t.next=14;break;case 11:return t.next=13,this.api.postNameUpdate((0,o.default)((0,i.default)(v),{nonce:f,ttl:c,fee:parseInt(a)}));case 13:t.t0=t.sent;case 14:return l=t.t0,d=l.tx,t.abrupt("return",d);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function w(){return(w=(0,f.default)(u.default.mark(function t(e){var n,r,a,c,f,l,d,v=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.nameId,t.next=3,this.prepareTxParams(h.TX_TYPE.nameRevoke,(0,s.default)({senderId:n},(0,i.default)(v)));case 3:if(r=t.sent,a=r.fee,c=r.ttl,f=r.nonce,!this.nativeMode){t.next=11;break}t.t0=(0,p.buildTx)((0,o.default)((0,i.default)(v),{nonce:f,ttl:c,fee:a}),h.TX_TYPE.nameRevoke),t.next=14;break;case 11:return t.next=13,this.api.postNameRevoke((0,o.default)((0,i.default)(v),{nonce:f,ttl:c,fee:parseInt(a)}));case 13:t.t0=t.sent;case 14:return l=t.t0,d=l.tx,t.abrupt("return",d);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function T(){return(T=(0,f.default)(u.default.mark(function t(e){var n,r,a,c,f,l,d,m,y,g=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ownerId,e.code,e.vmVersion,e.abiVersion,e.deposit,e.amount,r=e.gas,a=e.gasPrice,c=void 0===a?h.MIN_GAS_PRICE:a,e.callData,f=this.getVmVersion(h.TX_TYPE.contractCreate,(0,i.default)(g)),t.next=4,this.prepareTxParams(h.TX_TYPE.contractCreate,(0,s.default)({senderId:n},(0,i.default)(g),{ctVersion:f,gasPrice:c}));case 4:return l=t.sent,d=l.fee,m=l.ttl,y=l.nonce,t.abrupt("return",this.nativeMode?(0,s.default)({},(0,p.buildTx)((0,o.default)((0,i.default)(g),{nonce:y,ttl:m,fee:d,ctVersion:f,gasPrice:c}),h.TX_TYPE.contractCreate),{contractId:(0,v.buildContractId)(n,y)}):this.api.postContractCreate((0,o.default)((0,i.default)(g),{nonce:y,ttl:m,fee:parseInt(d),gas:parseInt(r),gasPrice:c,vmVersion:f.vmVersion,abiVersion:f.abiVersion})));case 9:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function _(){return(_=(0,f.default)(u.default.mark(function t(e){var n,r,a,c,f,l,d,v,m,y,g,x=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.callerId,e.contractId,e.abiVersion,e.amount,r=e.gas,a=e.gasPrice,c=void 0===a?h.MIN_GAS_PRICE:a,e.callData,f=this.getVmVersion(h.TX_TYPE.contractCall,(0,i.default)(x)),t.next=4,this.prepareTxParams(h.TX_TYPE.contractCall,(0,s.default)({senderId:n},(0,i.default)(x),{gasPrice:c,abiVersion:f.abiVersion}));case 4:if(l=t.sent,d=l.fee,v=l.ttl,m=l.nonce,!this.nativeMode){t.next=12;break}t.t0=(0,p.buildTx)((0,o.default)((0,i.default)(x),{nonce:m,ttl:v,fee:d,abiVersion:f.abiVersion,gasPrice:c}),h.TX_TYPE.contractCall),t.next=15;break;case 12:return t.next=14,this.api.postContractCall((0,o.default)((0,i.default)(x),{nonce:m,ttl:v,fee:parseInt(d),gas:parseInt(r),gasPrice:c,abiVersion:f.abiVersion}));case 14:t.t0=t.sent;case 15:return y=t.t0,g=y.tx,t.abrupt("return",g);case 18:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function I(){return(I=(0,f.default)(u.default.mark(function t(e){var n,r,a,o,c,f,l,d,v,m,y,g,x,b=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,r=e.queryFormat,a=e.responseFormat,o=e.queryFee,c=e.oracleTtl,e.abiVersion,f=this.getVmVersion(h.TX_TYPE.oracleRegister,(0,i.default)(b)),l=f.abiVersion,t.next=4,this.prepareTxParams(h.TX_TYPE.oracleRegister,(0,s.default)({senderId:n},(0,i.default)(b),{abiVersion:l}));case 4:if(d=t.sent,v=d.fee,m=d.ttl,y=d.nonce,!this.nativeMode){t.next=12;break}t.t0=(0,p.buildTx)({accountId:n,queryFee:o,abiVersion:l,fee:v,oracleTtl:c,nonce:y,ttl:m,queryFormat:r,responseFormat:a},h.TX_TYPE.oracleRegister),t.next=15;break;case 12:return t.next=14,this.api.postOracleRegister({accountId:n,queryFee:o,abiVersion:l,fee:parseInt(v),oracleTtl:c,nonce:y,ttl:m,queryFormat:r,responseFormat:a});case 14:t.t0=t.sent;case 15:return g=t.t0,x=g.tx,t.abrupt("return",x);case 18:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function E(){return(E=(0,f.default)(u.default.mark(function t(e){var n,r,a,o,c,f,l,d,v,m=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.oracleId,r=e.callerId,a=e.oracleTtl,t.next=3,this.prepareTxParams(h.TX_TYPE.oracleExtend,(0,s.default)({senderId:r},(0,i.default)(m)));case 3:if(o=t.sent,c=o.fee,f=o.ttl,l=o.nonce,!this.nativeMode){t.next=11;break}t.t0=(0,p.buildTx)({oracleId:n,fee:c,oracleTtl:a,nonce:l,ttl:f},h.TX_TYPE.oracleExtend),t.next=14;break;case 11:return t.next=13,this.api.postOracleExtend({oracleId:n,fee:parseInt(c),oracleTtl:a,nonce:l,ttl:f});case 13:t.t0=t.sent;case 14:return d=t.t0,v=d.tx,t.abrupt("return",v);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function k(){return(k=(0,f.default)(u.default.mark(function t(e){var n,r,a,o,c,f,l,d,m,y,g,x,b=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.oracleId,r=e.responseTtl,a=e.query,o=e.queryTtl,c=e.queryFee,f=e.senderId,t.next=3,this.prepareTxParams(h.TX_TYPE.oracleQuery,(0,s.default)({senderId:f},(0,i.default)(b)));case 3:if(l=t.sent,d=l.fee,m=l.ttl,y=l.nonce,!this.nativeMode){t.next=11;break}t.t0=(0,p.buildTx)({oracleId:n,responseTtl:r,query:a,queryTtl:o,fee:d,queryFee:c,ttl:m,nonce:y,senderId:f},h.TX_TYPE.oracleQuery),t.next=14;break;case 11:return t.next=13,this.api.postOracleQuery({oracleId:n,responseTtl:r,query:a,queryTtl:o,fee:parseInt(d),queryFee:c,ttl:m,nonce:y,senderId:f});case 13:t.t0=t.sent;case 14:return g=t.t0,x=g.tx,t.abrupt("return",{tx:x,queryId:(0,v.oracleQueryId)(f,y,n)});case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function A(){return(A=(0,f.default)(u.default.mark(function t(e){var n,r,a,o,c,f,l,d,v,m,y,g=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.oracleId,r=e.callerId,a=e.responseTtl,o=e.queryId,c=e.response,t.next=3,this.prepareTxParams(h.TX_TYPE.oracleResponse,(0,s.default)({senderId:r},(0,i.default)(g)));case 3:if(f=t.sent,l=f.fee,d=f.ttl,v=f.nonce,!this.nativeMode){t.next=11;break}t.t0=(0,p.buildTx)({oracleId:n,responseTtl:a,queryId:o,response:c,fee:l,ttl:d,nonce:v},h.TX_TYPE.oracleResponse),t.next=14;break;case 11:return t.next=13,this.api.postOracleRespond({oracleId:n,responseTtl:a,queryId:o,response:c,fee:parseInt(l),ttl:d,nonce:v});case 13:t.t0=t.sent;case 14:return m=t.t0,y=m.tx,t.abrupt("return",y);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function P(){return(P=(0,f.default)(u.default.mark(function t(e){var n,r,a,c,f,l,d,v,m,y,g=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.payload,c=e.poi,t.next=3,this.prepareTxParams(h.TX_TYPE.channelCloseSolo,(0,s.default)({senderId:r},(0,i.default)(g),{payload:a}));case 3:if(f=t.sent,l=f.fee,d=f.ttl,v=f.nonce,!this.nativeMode){t.next=11;break}t.t0=(0,p.buildTx)((0,o.default)((0,i.default)(g),{channelId:n,fromId:r,payload:a,poi:c,ttl:d,fee:l,nonce:v}),h.TX_TYPE.channelCloseSolo),t.next=14;break;case 11:return t.next=13,this.api.postChannelCloseSolo((0,o.default)((0,i.default)(g),{channelId:n,fromId:r,payload:a,poi:c,ttl:d,fee:parseInt(l),nonce:v}));case 13:t.t0=t.sent;case 14:return m=t.t0,y=m.tx,t.abrupt("return",y);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function S(){return(S=(0,f.default)(u.default.mark(function t(e){var n,r,a,c,f,l,d,v,m,y,g=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.payload,c=e.poi,t.next=3,this.prepareTxParams(h.TX_TYPE.channelSlash,(0,s.default)({senderId:r},(0,i.default)(g),{payload:a}));case 3:if(f=t.sent,l=f.fee,d=f.ttl,v=f.nonce,!this.nativeMode){t.next=11;break}t.t0=(0,p.buildTx)((0,o.default)((0,i.default)(g),{channelId:n,fromId:r,payload:a,poi:c,ttl:d,fee:l,nonce:v}),h.TX_TYPE.channelSlash),t.next=14;break;case 11:return t.next=13,this.api.postChannelSlash((0,o.default)((0,i.default)(g),{channelId:n,fromId:r,payload:a,poi:c,ttl:d,fee:parseInt(l),nonce:v}));case 13:t.t0=t.sent;case 14:return m=t.t0,y=m.tx,t.abrupt("return",y);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function C(){return(C=(0,f.default)(u.default.mark(function t(e){var n,r,a,c,f,l,d,v,m,y,g=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.initiatorAmountFinal,c=e.responderAmountFinal,t.next=3,this.prepareTxParams(h.TX_TYPE.channelSettle,(0,s.default)({senderId:r},(0,i.default)(g)));case 3:if(f=t.sent,l=f.fee,d=f.ttl,v=f.nonce,!this.nativeMode){t.next=11;break}t.t0=(0,p.buildTx)((0,o.default)((0,i.default)(g),{channelId:n,fromId:r,initiatorAmountFinal:a,responderAmountFinal:c,ttl:d,fee:l,nonce:v}),h.TX_TYPE.channelSettle),t.next=14;break;case 11:return t.next=13,this.api.postChannelSettle((0,o.default)((0,i.default)(g),{channelId:n,fromId:r,initiatorAmountFinal:parseInt(a),responderAmountFinal:parseInt(c),ttl:d,fee:parseInt(l),nonce:v}));case 13:t.t0=t.sent;case 14:return m=t.t0,y=m.tx,t.abrupt("return",y);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function O(){return(O=(0,f.default)(u.default.mark(function t(e){var n,r,a,c,f,l,d,v,m,y=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.payload,t.next=3,this.prepareTxParams(h.TX_TYPE.channelSnapshotSolo,(0,s.default)({senderId:r},(0,i.default)(y),{payload:a}));case 3:if(c=t.sent,f=c.fee,l=c.ttl,d=c.nonce,!this.nativeMode){t.next=11;break}t.t0=(0,p.buildTx)((0,o.default)((0,i.default)(y),{channelId:n,fromId:r,payload:a,ttl:l,fee:f,nonce:d}),h.TX_TYPE.channelSnapshotSolo),t.next=14;break;case 11:return t.next=13,this.api.postChannelSnapshotSolo((0,o.default)((0,i.default)(y),{channelId:n,fromId:r,payload:a,ttl:l,fee:parseInt(f),nonce:d}));case 13:t.t0=t.sent;case 14:return v=t.t0,m=v.tx,t.abrupt("return",m);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function j(){return B.apply(this,arguments)}function B(){return(B=(0,f.default)(u.default.mark(function t(){var e,n,r,a,o=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:0,n=!(o.length>1&&void 0!==o[1])||o[1],0!==e){t.next=4;break}return t.abrupt("return",0);case 4:if(!(e<0)){t.next=6;break}throw new Error("ttl must be greater than 0");case 6:if(!n){t.next=12;break}return t.next=9,this.api.getCurrentKeyBlock();case 9:return r=t.sent,a=r.height,t.abrupt("return",+a+e);case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function R(){return(R=(0,f.default)(u.default.mark(function t(e,n){var r,a;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return",n);case 2:return t.next=4,this.api.getAccountByPubkey(e).catch(function(){return{nonce:0}});case 4:return r=t.sent,a=r.nonce,t.abrupt("return",a+1);case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function M(){return(M=(0,f.default)(u.default.mark(function t(e,n){var r,i,s,c,f,l,d,h,v,m=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.senderId,i=n.nonce,s=n.ttl,c=n.fee,f=n.gas,l=n.absoluteTtl,t.next=3,this.getAccountNonce(r,i);case 3:return d=t.sent,t.next=6,j.bind(this)(s,!l);case 6:return h=t.sent,v=(0,p.calculateFee)(c,e,{showWarning:this.showWarning,gas:f,params:(0,o.default)((0,a.default)(m),{nonce:d,ttl:h})}),t.abrupt("return",{fee:v,ttl:h,nonce:d});case 9:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var N=d.default.compose(l.default,{init:function(t){var e=t.nativeMode,n=void 0===e||e,r=t.showWarning,a=void 0!==r&&r;this.nativeMode=n,this.showWarning=a},props:{nativeMode:null,showWarning:null},methods:{spendTx:function(t){return m.apply(this,arguments)},namePreclaimTx:function(t){return y.apply(this,arguments)},nameClaimTx:function(t){return g.apply(this,arguments)},nameTransferTx:function(t){return x.apply(this,arguments)},nameUpdateTx:function(t){return b.apply(this,arguments)},nameRevokeTx:function(t){return w.apply(this,arguments)},contractCreateTx:function(t){return T.apply(this,arguments)},contractCallTx:function(t){return _.apply(this,arguments)},prepareTxParams:function(t,e){return M.apply(this,arguments)},oracleRegisterTx:function(t){return I.apply(this,arguments)},oracleExtendTx:function(t){return E.apply(this,arguments)},oraclePostQueryTx:function(t){return k.apply(this,arguments)},oracleRespondTx:function(t){return A.apply(this,arguments)},channelCloseSoloTx:function(t){return P.apply(this,arguments)},channelSlashTx:function(t){return S.apply(this,arguments)},channelSettleTx:function(t){return C.apply(this,arguments)},channelSnapshotSoloTx:function(t){return O.apply(this,arguments)},getAccountNonce:function(t,e){return R.apply(this,arguments)},getVmVersion:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.vmVersion,r=e.abiVersion,a=this.consensusProtocolVersion,u=h.PROTOCOL_VM_ABI[a];if(!u)throw new Error("Not supported consensus protocol version");var o=u[t];if(!o)throw new Error("Not supported tx type");var i={abiVersion:void 0!==r?r:o.abiVersion[0],vmVersion:void 0!==n?n:o.vmVersion[0]};if(o.vmVersion.length&&!(0,c.default)(i.vmVersion,o.vmVersion))throw new Error("VM VERSION ".concat(i.vmVersion," do not support by this node. Supported: [").concat(o.vmVersion,"]"));if(!(0,c.default)(i.abiVersion,o.abiVersion))throw new Error("ABI VERSION ".concat(i.abiVersion," do not support by this node. Supported: [").concat(o.abiVersion,"]"));return i}}});e.default=N},function(t,e,n){"use strict";(function(t){var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(9)),u=r(n(27)),o=r(n(2)),i=r(n(11)),s=r(n(3)),c=n(5),f=n(14);function l(){return(l=(0,s.default)(o.default.mark(function t(e,n){var r,a,u,s=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},a=(0,i.default)(this.Ae.defaults,r),t.t0=this,t.t1=i.default,t.t2=a,t.t3=e,t.next=8,this.address();case 8:return t.t4=t.sent,t.t5=n,t.t6={nameId:t.t3,accountId:t.t4,recipientId:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=14,t.t0.nameTransferTx.call(t.t0,t.t7);case 14:return u=t.sent,t.abrupt("return",this.send(u,a));case 16:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function d(){return(d=(0,s.default)(o.default.mark(function t(e){var n,r,a,u=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=(0,i.default)(this.Ae.defaults,n),t.t0=this,t.t1=i.default,t.t2=r,t.t3=e,t.next=8,this.address();case 8:return t.t4=t.sent,t.t5={nameId:t.t3,accountId:t.t4},t.t6=(0,t.t1)(t.t2,t.t5),t.next=13,t.t0.nameRevokeTx.call(t.t0,t.t6);case 13:return a=t.sent,t.abrupt("return",this.send(a,r));case 15:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function p(t){var e={ak:"account_pubkey",ok:"oracle_pubkey"};if(!t.match(/^[a-z]{2}_.+/))throw Error("Not a valid hash");var n=t.substr(0,2);if(n in e)return e[n];throw Error("Unknown class ".concat(n))}function h(){return(h=(0,s.default)(o.default.mark(function t(e,n){var r,a,s,c=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},a=(0,i.default)(this.Ae.defaults,r),t.t0=this,t.t1=i.default,t.t2=a,t.t3=e,t.next=8,this.address();case 8:return t.t4=t.sent,t.t5=[(0,u.default)([["id",n],["key",p(n)]])],t.t6={nameId:t.t3,accountId:t.t4,pointers:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=14,t.t0.nameUpdateTx.call(t.t0,t.t7);case 14:return s=t.sent,t.abrupt("return",this.send(s,a));case 16:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function v(){return(v=(0,s.default)(o.default.mark(function t(e){var n,r,u=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getName(e);case 2:return n=t.sent,r=n.id,t.abrupt("return",Object.freeze(Object.assign(n,{pointers:n.pointers||{},update:function(){var t=(0,s.default)(o.default.mark(function t(n,i){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a.default,t.t1={},t.next=4,u.aensUpdate(r,n,i);case 4:return t.t2=t.sent,t.next=7,u.aensQuery(e);case 7:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 9:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),transfer:function(){var t=(0,s.default)(o.default.mark(function t(n,i){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a.default,t.t1={},t.next=4,u.aensTransfer(r,n,i);case 4:return t.t2=t.sent,t.next=7,u.aensQuery(e);case 7:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 9:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),revoke:function(){var t=(0,s.default)(o.default.mark(function t(e){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.aensRevoke(r,e));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()})));case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function m(){return(m=(0,s.default)(o.default.mark(function e(n,r,u){var s,f,l,d,p=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=p.length>3&&void 0!==p[3]?p[3]:{},f=(0,i.default)(this.Ae.defaults,s),e.t0=this,e.t1=i.default,e.t2=f,e.next=7,this.address();case 7:return e.t3=e.sent,e.t4=r,e.t5="nm_".concat((0,c.encodeBase58Check)(t.from(n))),e.t6={accountId:e.t3,nameSalt:e.t4,name:e.t5},e.t7=(0,e.t1)(e.t2,e.t6),e.next=14,e.t0.nameClaimTx.call(e.t0,e.t7);case 14:return l=e.sent,e.next=17,this.send(l,f);case 17:return d=e.sent,e.t8=a.default,e.t9={},e.t10=d,e.next=23,this.aensQuery(n);case 23:return e.t11=e.sent,e.abrupt("return",(0,e.t8)(e.t9,e.t10,e.t11));case 25:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function y(){return(y=(0,s.default)(o.default.mark(function t(e){var n,r,u,s,l,d,p,h=this,v=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=v.length>1&&void 0!==v[1]?v[1]:{},r=(0,i.default)(this.Ae.defaults,n),u=(0,c.salt)(),t.next=5,this.height();case 5:return s=t.sent,t.next=8,(0,f.commitmentHash)(e,u);case 8:return l=t.sent,t.t0=this,t.t1=i.default,t.t2=r,t.next=14,this.address();case 14:return t.t3=t.sent,t.t4=l,t.t5={accountId:t.t3,commitmentId:t.t4},t.t6=(0,t.t1)(t.t2,t.t5),t.next=20,t.t0.namePreclaimTx.call(t.t0,t.t6);case 20:return d=t.sent,t.next=23,this.send(d,r);case 23:return p=t.sent,t.abrupt("return",Object.freeze((0,a.default)({},p,{height:s,claim:function(t){return h.aensClaim(e,u,s+1,t)},salt:u,commitmentId:l})));case 25:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var g=r(n(17)).default.compose({methods:{aensQuery:function(t){return v.apply(this,arguments)},aensPreclaim:function(t){return y.apply(this,arguments)},aensClaim:function(t,e,n){return m.apply(this,arguments)},aensUpdate:function(t,e){return h.apply(this,arguments)},aensTransfer:function(t,e){return l.apply(this,arguments)},aensRevoke:function(t){return d.apply(this,arguments)}},deepProps:{Ae:{defaults:{clientTtl:1,nameTtl:5e4}}}});e.default=g}).call(this,n(7).Buffer)},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(8)),u=n(22),o=(0,a.default)({deepConf:{Contract:{methods:["contractEncodeCallDataAPI","contractDecodeDataAPI","compileContractAPI","contractDecodeCallDataBySourceAPI","contractDecodeCallDataByCodeAPI","contractGetACI"]}}},(0,u.required)({methods:{contractEncodeCallDataAPI:u.required,contractDecodeDataAPI:u.required,compileContractAPI:u.required,contractGetACI:u.required}}));e.default=o},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports=a},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e,n){var r=n(108);t.exports="function"==typeof Object.assign?Object.assign:r},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(8)),u=n(22),o=(0,a.default)({deepConf:{Contract:{methods:["getOracle","getOracleQueries","getOracleQuery"]}}},(0,u.required)({methods:{getOracle:u.required,getOracleQueries:u.required,getOracleQuery:u.required}}));e.default=o},function(t,e,n){var r=n(1),a=n(60),u=r(function(t,e){var n=t<0?e.length+t:t;return a(e)?e.charAt(n):e[n]});t.exports=u},function(t,e){t.exports=function(t){return"[object String]"===Object.prototype.toString.call(t)}},function(t,e){t.exports=function(t,e,n){for(var r=0,a=n.length;r<a;){if(t(e,n[r]))return!0;r+=1}return!1}},function(t,e,n){var r=n(1)(function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e});t.exports=r},function(t,e,n){var r=n(4)(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)});t.exports=r},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,a=Array(r);n<r;)a[n]=t(e[n]),n+=1;return a}},function(t,e,n){var r=n(4),a=n(44),u=n(60),o=r(function(t){return!!a(t)||!!t&&("object"==typeof t&&(!u(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))});t.exports=o},function(t,e,n){var r=n(4)(function(t){return null==t});t.exports=r},function(t,e,n){var r=n(4),a=n(12),u=r(function(t){for(var e=a(t),n=e.length,r=[],u=0;u<n;)r[u]=t[e[u]],u+=1;return r});t.exports=u},function(t,e,n){var r=n(4)(n(127)(!0));t.exports=r},function(t,e,n){var r=n(59)(-1);t.exports=r},function(t,e){t.exports=function(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}},function(t,e,n){var r=n(72),a=n(46)(r("slice",function(t,e,n){return Array.prototype.slice.call(n,t,e)}));t.exports=a},function(t,e,n){var r=n(44);t.exports=function(t,e){return function(){var n=arguments.length;if(0===n)return e();var a=arguments[n-1];return r(a)||"function"!=typeof a[t]?e.apply(this,arguments):a[t].apply(a,Array.prototype.slice.call(arguments,0,n-1))}}},function(t,e,n){var r=n(1),a=n(36),u=r(function(t,e){return a([t],e)});t.exports=u},function(t,e,n){var r=n(47),a=n(18),u=n(10),o=n(26),i=r(4,[],a([],n(135),function(t,e,n,r){return o(function(r,a){var o=n(a);return r[o]=t(u(o,r)?r[o]:e,a),r},{},r)}));t.exports=i},function(t,e,n){var r=n(4),a=n(37),u=r(function(t){return a(t.length,t)});t.exports=u},function(t,e,n){var r=n(1),a=n(26),u=n(12),o=r(function(t,e){return a(function(n,r){return n[r]=t(e[r],r,e),n},{},u(e))});t.exports=o},function(t,e,n){var r=n(48)(1,"join");t.exports=r},function(t,e){t.exports=u},function(t,e,n){var r=n(4),a=n(37),u=r(function(t){return a(t.length,function(e,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=e,t.apply(this,r)})});t.exports=u},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(2)),u=r(n(3)),o=r(n(58)),i=r(n(31));function s(){return(s=(0,u.default)(a.default.mark(function t(e){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getOracleByPubkey(e));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function c(){return(c=(0,u.default)(a.default.mark(function t(e){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getOracleQueriesByPubkey(e));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function f(){return(f=(0,u.default)(a.default.mark(function t(e,n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getOracleQueryByPubkeyAndQueryId(e,n));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var l=o.default.compose(i.default,{methods:{getOracle:function(t){return s.apply(this,arguments)},getOracleQueries:function(t){return c.apply(this,arguments)},getOracleQuery:function(t,e){return f.apply(this,arguments)}}});e.default=l},function(t,e,n){"use strict";(function(t){var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(15)),u=r(n(9)),o=r(n(6)),i=r(n(2)),s=r(n(3)),c=n(5),f=n(14),l=n(13),d=n(23),p=n(21),h=r(n(31)),v={signature:function(e){var n=e.rlpEncoded,r=e.signature,a=e.ownerPublicKey,u=e.networkId,o=void 0===u?"ae_mainnet":u,i=t.concat([t.from(o),n]);return(0,c.verify)(i,r,(0,c.decodeBase58Check)((0,c.assertedType)(a,"ak")))},insufficientFee:function(t){var e=t.minFee,n=t.fee;return(0,l.BigNumber)(e).lte((0,l.BigNumber)(n))},expiredTTL:function(t){var e=t.ttl,n=t.height;return(0,l.BigNumber)(e).eq(0)||(0,l.BigNumber)(e).gte((0,l.BigNumber)(n))},insufficientBalanceForAmountFee:function(t){var e=t.balance,n=t.amount,r=void 0===n?0:n,a=t.fee;return(0,l.BigNumber)(e).gt((0,l.BigNumber)(r).plus(a))},insufficientBalanceForAmount:function(t){var e=t.balance,n=t.amount,r=void 0===n?0:n;return(0,l.BigNumber)(e).gt((0,l.BigNumber)(r))},nonceUsed:function(t){var e=t.accountNonce,n=t.nonce;return(0,l.BigNumber)(n).gt((0,l.BigNumber)(e))},nonceHigh:function(t){var e=t.accountNonce,n=t.nonce;return!(0,l.BigNumber)(n).gt((0,l.BigNumber)(e).plus(1))},minGasPrice:function(t){var e=t.gasPrice;return isNaN(e)||(0,l.BigNumber)(e).gte((0,l.BigNumber)(d.MIN_GAS_PRICE))}},m=function(){var t=(0,s.default)(i.default.mark(function t(e,n){var r,a,u,o,s,c;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.ownerPublicKey,a=0,u=0,t.prev=3,t.next=6,e.api.getAccountByPubkey(r);case 6:o=t.sent,s=o.nonce,c=o.balance,a=s,u=c,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log("We can not get info about this publicKey");case 16:return t.next=18,e.api.getCurrentKeyBlockHeight();case 18:return t.t1=t.sent.height,t.t2=u,t.t3=a,t.t4=r,t.abrupt("return",{height:t.t1,balance:t.t2,accountNonce:t.t3,ownerPublicKey:t.t4});case 23:case"end":return t.stop()}},t,this,[[3,13]])}));return function(e,n){return t.apply(this,arguments)}}(),y=function(t,e){return t.reduce(function(t,n){var r=(0,o.default)(n,3),a=r[0],u=r[1],i=r[2],s=(i.key,i.type),c=i.txKey;return v[u](e)||t.push({msg:a(e),txKey:c,type:s}),t},[])};function g(){return(g=(0,s.default)(i.default.mark(function t(e){var n,r,a,u,o,s,c,l,h,v,m,y=arguments;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=y.length>1&&void 0!==y[1]?y[1]:{},r=n.networkId,a=(0,p.unpackTx)(e),u=a.tx,o=a.rlpEncoded,s=a.txType,+u.tag!==d.OBJECT_TAG_SIGNED_TRANSACTION){t.next=13;break}return c=u.encodedTx,l=c.txType,h=c.tx,v=u.signatures.map(function(t){return{raw:t,hash:(0,f.encode)(t,"sg")}}),m=u.encodedTx.rlpEncoded,t.next=8,this.verifyTx({tx:h,signatures:v,rlpEncoded:m},r);case 8:return t.t0=t.sent,t.t1=h,t.t2=v,t.t3=l,t.abrupt("return",{validation:t.t0,tx:t.t1,signatures:t.t2,txType:t.t3});case 13:return t.next=15,this.verifyTx({tx:u,rlpEncoded:o},r);case 15:return t.t4=t.sent,t.t5=u,t.t6=s,t.abrupt("return",{validation:t.t4,tx:t.t5,txType:t.t6});case 19:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var x=function(t){return t[["senderId","accountId","ownerId","callerId","oracleId"].find(function(e){return t[e]})].replace("ok_","ak_")};function b(){return(b=(0,s.default)(i.default.mark(function t(e,n){var r,o,s,c,f,l,h,v;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.tx,o=e.signatures,s=e.rlpEncoded,n=n||this.nodeNetworkId||"ae_mainnet",c=x(r),f=r.hasOwnProperty("gas")?+r.gas:0,t.t0=u.default,t.t1={minFee:(0,p.calculateFee)(0,d.OBJECT_ID_TX_TYPE[+r.tag],{gas:f,params:r,showWarning:!1})},t.next=8,m(this,{ownerPublicKey:c});case 8:return t.t2=t.sent,t.t3=r,l=(0,t.t0)(t.t1,t.t2,t.t3),h=o&&o.length?y(d.SIGNATURE_VERIFICATION_SCHEMA,{rlpEncoded:s,signature:o[0].raw,ownerPublicKey:c,networkId:n}):[],v=y(d.BASE_VERIFICATION_SCHEMA,l),t.abrupt("return",[].concat((0,a.default)(v),(0,a.default)(h)));case 14:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var w=h.default.compose({methods:{verifyTx:function(t,e){return b.apply(this,arguments)},unpackAndVerify:function(t){return g.apply(this,arguments)}}});e.default=w}).call(this,n(7).Buffer)},function(t,e,n){"use strict";(function(t,r){var a=n(20),u=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=u(n(2)),i=u(n(3)),s=u(n(25)),c=a(n(5)),f=new WeakMap;function l(){return(l=(0,i.default)(o.default.mark(function t(e){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve(c.sign(e,f.get(this).secretKey)));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function d(){return(d=(0,i.default)(o.default.mark(function t(){var e,n=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:c.ADDRESS_FORMAT.api,t.abrupt("return",Promise.resolve(c.formatAddress(e,f.get(this).publicKey)));case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var p=s.default.compose({init:function(t){var e=t.keypair;try{this.setKeypair(e||c.envKeypair(r.env))}catch(t){console.log("Please provide KEY_PAIR for sign transaction")}},methods:{sign:function(t){return l.apply(this,arguments)},address:function(){return d.apply(this,arguments)},setKeypair:function(e){e.hasOwnProperty("priv")&&e.hasOwnProperty("pub")&&(e={secretKey:e.priv,publicKey:e.pub},console.warn("pub/priv naming for accounts has been deprecated, please use secretKey/publicKey")),f.set(this,{secretKey:t.from(e.secretKey,"hex"),publicKey:e.publicKey})}}});e.default=p}).call(this,n(7).Buffer,n(160))},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(2)),u=r(n(3)),o=r(n(161));function i(){return(i=(0,u.default)(a.default.mark(function t(e,n){var r,u,o=arguments;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:[],u=o.length>3&&void 0!==o[3]?o[3]:{},t.abrupt("return",this.http.post("/encode-calldata",{source:e,function:n,arguments:r},u).then(function(t){return t.calldata}));case 3:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function s(){return(s=(0,u.default)(a.default.mark(function t(e,n){var r,u=arguments;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},t.abrupt("return",this.http.post("/decode-calldata/bytecode",{bytecode:e,calldata:n},r));case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function c(){return(c=(0,u.default)(a.default.mark(function t(e,n,r){var u,o=arguments;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=o.length>3&&void 0!==o[3]?o[3]:{},t.abrupt("return",this.http.post("/decode-calldata/source",{function:n,source:e,calldata:r},u));case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function f(){return(f=(0,u.default)(a.default.mark(function t(e,n){var r,u=arguments;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},t.abrupt("return",this.http.post("/decode-data",{data:n,"sophia-type":e},r).then(function(t){return t.data}));case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function l(){return(l=(0,u.default)(a.default.mark(function t(e){var n,r=arguments;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.abrupt("return",this.http.post("/compile",{code:e,options:n},n).then(function(t){return t.bytecode}));case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function d(){return(d=(0,u.default)(a.default.mark(function t(e){var n,r=arguments;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.abrupt("return",this.http.post("/aci",{code:e,options:n},n));case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var p=r(n(52)).default.compose({init:function(t){var e=t.compilerUrl,n=void 0===e?this.compilerUrl:e;this.http=(0,o.default)({baseUrl:n})},methods:{contractEncodeCallDataAPI:function(t,e){return i.apply(this,arguments)},contractDecodeDataAPI:function(t,e){return f.apply(this,arguments)},compileContractAPI:function(t){return l.apply(this,arguments)},contractGetACI:function(t){return d.apply(this,arguments)},contractDecodeCallDataByCodeAPI:function(t,e){return s.apply(this,arguments)},contractDecodeCallDataBySourceAPI:function(t,e,n){return c.apply(this,arguments)},setCompilerUrl:function(t){this.http.changeBaseUrl(t)}}});e.default=p},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(2)),u=r(n(3)),o=r(n(25)),i=r(n(22));function s(){return(s=(0,u.default)(a.default.mark(function t(e){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.signWith(this.Selector.address,e));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function c(){return(c=(0,u.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve(this.Selector.address));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function f(){return(f=(0,u.default)(a.default.mark(function t(e){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Selector.address=e;case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var l=o.default.compose({init:function(){var t=(0,u.default)(a.default.mark(function t(e){var n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.address,this.Selector.address=n;case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),methods:{sign:function(t){return s.apply(this,arguments)},address:function(){return c.apply(this,arguments)},selectAccount:function(t){return f.apply(this,arguments)}},deepProps:{Selector:{}}},(0,i.default)({methods:{signWith:i.default}}));e.default=l},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.pollForQueryResponse=h,e.default=void 0;var a=r(n(11)),u=r(n(2)),o=r(n(9)),i=r(n(3)),s=r(n(17)),c=n(5);function f(t){return l.apply(this,arguments)}function l(){return(l=(0,i.default)(u.default.mark(function t(e){var n,r,a,s=this;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOracle(e);case 2:return n=t.sent,t.next=5,this.getOracleQueries(e);case 5:return r=t.sent,a=r.oracleQueries,t.abrupt("return",(0,o.default)({},n,{queries:a,postQuery:function(t,n){return s.postQueryToOracle(e,t,n)},respondToQuery:function(t,n,r){return s.respondToQuery(e,t,n,r)},extendOracle:function(t,n){return s.extendOracleTtl(e,t,n)},getQuery:function(){var t=(0,i.default)(u.default.mark(function t(n){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",d.bind(s)(e,n));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}));case 8:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function d(t,e){return p.apply(this,arguments)}function p(){return(p=(0,i.default)(u.default.mark(function t(e,n){var r=this;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=o.default,t.t1={},t.next=4,this.getOracleQuery(e,n);case 4:return t.t2=t.sent,t.t3={respond:function(t,a){return r.respondToQuery(e,n,t,a)},pollForResponse:function(t){var a=t.attempts,u=t.interval;return r.pollForQueryResponse(e,n,{attempts:a,interval:u})},decode:function(t){return(0,c.decodeBase64Check)(t.slice(3))}},t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function h(t,e){return v.apply(this,arguments)}function v(){return(v=(0,i.default)(u.default.mark(function t(e,n){var r,a,o,s,f,l,d,p,h,v,m=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return v=function(){return(v=(0,i.default)(u.default.mark(function t(r){var a;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOracleQuery(e,n);case 2:if((a=t.sent).response===l){t.next=5;break}return t.abrupt("return",{response:a.response,decode:function(){return(0,c.decodeBase64Check)(a.response.slice(3))}});case 5:if(!(r>0)){t.next=9;break}return t.next=8,d(f);case 8:return t.abrupt("return",h.bind(this)(r-1));case 9:throw Error("Giving up after ".concat(o*f,"ms"));case 10:case"end":return t.stop()}},t,this)}))).apply(this,arguments)},h=function(t){return v.apply(this,arguments)},p=function(){return(p=(0,i.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t){return setTimeout(t,e)});case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)},d=function(t){return p.apply(this,arguments)},r=m.length>2&&void 0!==m[2]?m[2]:{},a=r.attempts,o=void 0===a?20:a,s=r.interval,f=void 0===s?5e3:s,l="or_Xfbg4g==",t.abrupt("return",h.bind(this)(o));case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function m(){return(m=(0,i.default)(u.default.mark(function t(e,n){var r,i,s,c,l=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:{},i=(0,a.default)(this.Ae.defaults,r),t.next=4,this.address();case 4:return s=t.sent,t.next=7,this.oracleRegisterTx((0,a.default)(i,{accountId:s,queryFormat:e,responseFormat:n}));case 7:return c=t.sent,t.t0=o.default,t.t1={},t.next=12,this.send(c,i);case 12:return t.t2=t.sent,t.next=15,f.bind(this)("ok_".concat(s.slice(3)));case 15:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function y(){return(y=(0,i.default)(u.default.mark(function t(e,n){var r,i,s,c,l,d,p=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=p.length>2&&void 0!==p[2]?p[2]:{},i=(0,a.default)(this.Ae.defaults,r),t.next=4,this.address();case 4:return s=t.sent,t.next=7,this.oraclePostQueryTx((0,a.default)(i,{oracleId:e,senderId:s,query:n}));case 7:return c=t.sent,l=c.tx,d=c.queryId,t.t0=o.default,t.t1={},t.next=14,this.send(l,i);case 14:return t.t2=t.sent,t.next=17,f.bind(this)(e);case 17:return t.t3=d,t.next=20,t.sent.getQuery(t.t3);case 20:return t.t4=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t4));case 22:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function g(){return(g=(0,i.default)(u.default.mark(function t(e,n){var r,i,s,c,l=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:{},i=(0,a.default)(this.Ae.defaults,r),t.next=4,this.address();case 4:return s=t.sent,t.next=7,this.oracleExtendTx((0,a.default)(i,{oracleId:e,callerId:s,oracleTtl:n}));case 7:return c=t.sent,t.t0=o.default,t.t1={},t.next=12,this.send(c,i);case 12:return t.t2=t.sent,t.next=15,f.bind(this)(e);case 15:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function x(){return(x=(0,i.default)(u.default.mark(function t(e,n,r){var i,s,c,l,d=arguments;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=d.length>3&&void 0!==d[3]?d[3]:{},s=(0,a.default)(this.Ae.defaults,i),t.next=4,this.address();case 4:return c=t.sent,t.next=7,this.oracleRespondTx((0,a.default)(s,{oracleId:e,queryId:n,callerId:c,response:r}));case 7:return l=t.sent,t.t0=o.default,t.t1={},t.next=12,this.send(l,s);case 12:return t.t2=t.sent,t.next=15,f.bind(this)(e);case 15:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var b=s.default.compose({methods:{registerOracle:function(t,e){return m.apply(this,arguments)},respondToQuery:function(t,e,n){return x.apply(this,arguments)},extendOracleTtl:function(t,e){return g.apply(this,arguments)},postQueryToOracle:function(t,e){return y.apply(this,arguments)},pollForQueryResponse:h,getOracleObject:f,getQueryObject:d},deepProps:{Ae:{defaults:{queryFee:3e4,oracleTtl:{type:"delta",value:500},queryTtl:{type:"delta",value:10},responseTtl:{type:"delta",value:10}}}}});e.default=b},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.awaitingConnection=function t(e,n,r){if("channels.info"===n.method)return["channel_accept","funding_created"].includes(n.params.data.event)?((0,s.changeStatus)(e,{channel_accept:"accepted",funding_created:"halfSigned"}[n.params.data.event]),{handler:l}):"channel_reestablished"===n.params.data.event?{handler:v}:{handler:t};if("channels.error"===n.method)return(0,s.emit)(e,"error",new Error(n.payload.message)),{handler:R}},e.awaitingChannelCreateTx=l,e.awaitingOnChainTx=p,e.awaitingBlockInclusion=h,e.awaitingOpenConfirmation=v,e.awaitingInitialState=m,e.channelOpen=y,e.awaitingOffChainTx=function(t,e,n){return x.apply(this,arguments)},e.awaitingOffChainUpdate=b,e.awaitingTxSignRequest=w,e.awaitingUpdateConflict=_,e.awaitingShutdownTx=function(t,e,n){return I.apply(this,arguments)},e.awaitingShutdownOnChainTx=E,e.awaitingLeave=function(t,e,n){if("channels.leave"===e.method)return n.resolve({channelId:e.params.channel_id,signedTx:e.params.data.state}),(0,s.disconnect)(t),{handler:R};if("channels.error"===e.method)return n.reject(new Error(e.data.message)),{handler:y};return f(t,e,n)},e.awaitingWithdrawTx=function(t,e,n){return k.apply(this,arguments)},e.awaitingWithdrawCompletion=A,e.awaitingDepositTx=function(t,e,n){return P.apply(this,arguments)},e.awaitingDepositCompletion=S,e.awaitingNewContractTx=function(t,e,n){return C.apply(this,arguments)},e.awaitingNewContractCompletion=O,e.awaitingCallContractUpdateTx=function(t,e,n){return j.apply(this,arguments)},e.awaitingCallContractCompletion=B,e.awaitingCallsPruned=function(t,e,n){if("channels.calls_pruned.reply"===e.method)return n.resolve(),{handler:y};return n.reject(new Error("Unexpected message received")),{handler:R}},e.channelClosed=R;var a=r(n(6)),u=r(n(2)),o=r(n(3)),i=n(5),s=n(87),c=n(21);function f(t,e,n){return n.reject&&n.reject(Object.assign(Error("Unexpected message received:\n\n".concat(JSON.stringify(e))),{wsMessage:e})),{handler:y}}function l(t,e,n){return d.apply(this,arguments)}function d(){return(d=(0,o.default)(u.default.mark(function t(e,n,r){var a,o;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a={initiator:"initiator_sign",responder:"responder_sign"}[s.options.get(e).role],n.method!=="channels.sign.".concat(a)){t.next=7;break}return t.next=4,s.options.get(e).sign(a,n.params.data.tx);case 4:return o=t.sent,(0,s.send)(e,{jsonrpc:"2.0",method:"channels.".concat(a),params:{tx:o}}),t.abrupt("return",{handler:p});case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function p(t,e,n){return"channels.on_chain_tx"===e.method?((0,s.emit)(t,"onChainTx",e.params.data.tx),{handler:h}):"channels.info"===e.method&&"funding_signed"===e.params.data.event&&"initiator"===s.options.get(t).role?((0,s.changeStatus)(t,"signed"),{handler:p}):void 0}function h(t,e,n){if("channels.info"===e.method){var r={own_funding_locked:h,funding_locked:v}[e.params.data.event];if(r)return{handler:r}}}function v(t,e,n){if("channels.info"===e.method&&"open"===e.params.data.event)return s.channelId.set(t,e.params.channel_id),{handler:m}}function m(t,e,n){if("channels.update"===e.method)return(0,s.changeState)(t,e.params.data.state),{handler:y}}function y(t,e,n){return g.apply(this,arguments)}function g(){return(g=(0,o.default)(u.default.mark(function t(e,n,r){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n.method,t.next="channels.info"===t.t0?3:"channels.on_chain_tx"===t.t0?13:"channels.leave"===t.t0?15:"channels.update"===t.t0?16:"channels.sign.shutdown_sign_ack"===t.t0?18:19;break;case 3:t.t1=n.params.data.event,t.next="update"===t.t1?6:"withdraw_created"===t.t1?6:"deposit_created"===t.t1?6:"own_withdraw_locked"===t.t1?7:"withdraw_locked"===t.t1?7:"own_deposit_locked"===t.t1?7:"deposit_locked"===t.t1?7:"close_mutual"===t.t1?9:"died"===t.t1?10:12;break;case 6:return t.abrupt("return",{handler:w});case 7:return(0,s.emit)(e,n.params.data.event),t.abrupt("return",{handler:y});case 9:return t.abrupt("return",{handler:y});case 10:return(0,s.changeStatus)(e,"died"),t.abrupt("return",{handler:R});case 12:return t.abrupt("break",19);case 13:return(0,s.emit)(e,"onChainTx",n.params.data.tx),t.abrupt("return",{handler:y});case 15:return t.abrupt("return",{handler:y});case 16:return(0,s.changeState)(e,n.params.data.state),t.abrupt("return",{handler:y});case 18:return t.abrupt("return",w(e,n,r));case 19:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function x(){return(x=(0,o.default)(u.default.mark(function t(e,n,r){var a,o,i,c;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.update"!==n.method){t.next=7;break}return a=r.sign,t.next=4,a(n.params.data.tx,{updates:n.params.data.updates});case 4:return o=t.sent,(0,s.send)(e,{jsonrpc:"2.0",method:"channels.update",params:{tx:o}}),t.abrupt("return",{handler:b,state:r});case 7:if("channels.error"!==n.method){t.next=10;break}return r.reject(new Error(n.data.message)),t.abrupt("return",{handler:y});case 10:if(!n.error){t.next=14;break}return i=n.error.data,(c=void 0===i?[]:i).find(function(t){return 1001===t.code})?r.reject(new Error("Insufficient balance")):c.find(function(t){return 1002===t.code})?r.reject(new Error("Amount cannot be negative")):r.reject(new Error(n.error.message)),t.abrupt("return",{handler:y});case 14:return t.abrupt("return",f(0,n,r));case 15:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function b(t,e,n){return"channels.update"===e.method?((0,s.changeState)(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:y}):"channels.conflict"===e.method?(n.resolve({accepted:!1}),{handler:y}):e.error?(n.reject(new Error(e.error.message)),{handler:y}):f(0,e,n)}function w(t,e,n){return T.apply(this,arguments)}function T(){return(T=(0,o.default)(u.default.mark(function t(e,n,r){var o,c,l,d;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.method.match(/^channels\.sign\.([^\.]+)$/)||[],c=(0,a.default)(o,2),!(l=c[1])){t.next=10;break}return t.next=4,s.options.get(e).sign(l,n.params.data.tx,{updates:n.params.data.updates});case 4:if(!(d=t.sent)){t.next=8;break}return(0,s.send)(e,{jsonrpc:"2.0",method:"channels.".concat(l),params:{tx:d}}),t.abrupt("return",{handler:y});case 8:return(0,s.send)(e,{jsonrpc:"2.0",method:"channels.update.new",params:{from:(0,i.generateKeyPair)().publicKey,to:(0,i.generateKeyPair)().publicKey,amount:1}}),t.abrupt("return",{handler:_});case 10:return t.abrupt("return",f(0,n,r));case 11:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function _(t,e,n){return e.error?{handler:_}:"channels.conflict"===e.method?{handler:y}:f(0,e,n)}function I(){return(I=(0,o.default)(u.default.mark(function t(e,n,r){var a;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.shutdown_sign"!==n.method){t.next=6;break}return t.next=3,Promise.resolve(r.sign(n.params.data.tx));case 3:return a=t.sent,(0,s.send)(e,{jsonrpc:"2.0",method:"channels.shutdown_sign",params:{tx:a}}),t.abrupt("return",{handler:E,state:r});case 6:return t.abrupt("return",f(0,n,r));case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function E(t,e,n){return"channels.on_chain_tx"===e.method?(n.resolve(e.params.data.tx),{handler:R}):f(0,e,n)}function k(){return(k=(0,o.default)(u.default.mark(function t(e,n,r){var a;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.withdraw_tx"!==n.method){t.next=6;break}return t.next=3,Promise.resolve(r.sign(n.params.data.tx,{updates:n.params.data.updates}));case 3:return a=t.sent,(0,s.send)(e,{jsonrpc:"2.0",method:"channels.withdraw_tx",params:{tx:a}}),t.abrupt("return",{handler:A,state:r});case 6:return t.abrupt("return",f(0,n,r));case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function A(t,e,n){if("channels.on_chain_tx"===e.method)return n.onOnChainTx&&n.onOnChainTx(e.params.data.tx),{handler:A,state:n};if("channels.info"===e.method&&["own_withdraw_locked","withdraw_locked"].includes(e.params.data.event)){var r={own_withdraw_locked:n.onOwnWithdrawLocked,withdraw_locked:n.onWithdrawLocked}[e.params.data.event];return r&&r(),{handler:A,state:n}}return"channels.update"===e.method?((0,s.changeState)(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:y}):"channels.conflict"===e.method?(n.resolve({accepted:!1}),{handler:y}):f(0,e,n)}function P(){return(P=(0,o.default)(u.default.mark(function t(e,n,r){var a;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.deposit_tx"!==n.method){t.next=6;break}return t.next=3,Promise.resolve(r.sign(n.params.data.tx,{updates:n.params.data.updates}));case 3:return a=t.sent,(0,s.send)(e,{jsonrpc:"2.0",method:"channels.deposit_tx",params:{tx:a}}),t.abrupt("return",{handler:S,state:r});case 6:return t.abrupt("return",f(0,n,r));case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function S(t,e,n){if("channels.on_chain_tx"===e.method)return n.onOnChainTx&&n.onOnChainTx(e.params.data.tx),{handler:S,state:n};if("channels.info"===e.method&&["own_deposit_locked","deposit_locked"].includes(e.params.data.event)){var r={own_deposit_locked:n.onOwnDepositLocked,deposit_locked:n.onDepositLocked}[e.params.data.event];return r&&r(),{handler:S,state:n}}return"channels.update"===e.method?((0,s.changeState)(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:y}):"channels.conflict"===e.method?(n.resolve({accepted:!1}),{handler:y}):f(0,e,n)}function C(){return(C=(0,o.default)(u.default.mark(function t(e,n,r){var a;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.update"!==n.method){t.next=6;break}return t.next=3,Promise.resolve(r.sign(n.params.data.tx));case 3:return a=t.sent,(0,s.send)(e,{jsonrpc:"2.0",method:"channels.update",params:{tx:a}}),t.abrupt("return",{handler:O,state:r});case 6:return t.abrupt("return",f(0,n,r));case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function O(t,e,n){if("channels.update"===e.method){var r=(0,c.unpackTx)(e.params.data.state).tx.encodedTx.tx.round,a=s.options.get(t)[{initiator:"initiatorId",responder:"responderId"}[s.options.get(t).role]];return(0,s.changeState)(t,e.params.data.state),n.resolve({accepted:!0,address:(0,i.encodeContractAddress)(a,r),signedTx:e.params.data.state}),{handler:y}}return"channels.conflict"===e.method?(n.resolve({accepted:!1}),{handler:y}):f(0,e,n)}function j(){return(j=(0,o.default)(u.default.mark(function t(e,n,r){var a;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.update"!==n.method){t.next=6;break}return t.next=3,Promise.resolve(r.sign(n.params.data.tx));case 3:return a=t.sent,(0,s.send)(e,{jsonrpc:"2.0",method:"channels.update",params:{tx:a}}),t.abrupt("return",{handler:B,state:r});case 6:return t.abrupt("return",f(0,n,r));case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function B(t,e,n){return"channels.update"===e.method?((0,s.changeState)(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:y}):"channels.conflict"===e.method?(n.resolve({accepted:!1}),{handler:y}):f(0,e,n)}function R(t,e,n){return{handler:R}}y.enter=function(t){(0,s.changeStatus)(t,"open")}},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=function(t,e){return Q.apply(this,arguments)},e.emit=N,e.changeStatus=F,e.changeState=function(t,e){T.set(t,e),N(t,"stateChanged",e)},e.send=D,e.enqueueAction=function(t,e,n){P.set(t,[].concat((0,f.default)(P.get(t)||[]),[{guard:e,action:n}])),V(t)},e.call=function(t,e,n){return new Promise(function(r,a){var u=C.set(t,C.get(t)+1).get(t);j.get(t).set(u,function(t){return t.result?r(t.result):t.error?a(function(t){var e=t.error.data||[],n=(0,s.default)(e,1)[0],r=(n=void 0===n?{}:n).message;if(r)return Error("".concat(t.error.message,": ").concat(r));return Error(t.error.message)}(t)):void 0}),D(t,{jsonrpc:"2.0",method:e,id:u,params:n})})},e.disconnect=function(t){var e=I.get(t);e.readyState===e.OPEN&&(e._connection.close(),clearTimeout(R.get(t)),clearTimeout(B.get(t)))},e.channelId=e.eventEmitters=e.state=e.status=e.options=void 0;var a=r(n(9)),u=r(n(177)),o=r(n(178)),i=r(n(2)),s=r(n(6)),c=r(n(3)),f=r(n(15)),l=r(n(76)),d=r(n(67)),p=r(n(77)),h=n(179),v=n(180),m=n(49),y=n(86),g=1e4,x=5e3,b=new WeakMap;e.options=b;var w=new WeakMap;e.status=w;var T=new WeakMap;e.state=T;var _=new WeakMap,I=new WeakMap,E=new WeakMap;e.eventEmitters=E;var k=new WeakMap,A=new WeakMap,P=new WeakMap,S=new WeakMap,C=new WeakMap,O=new WeakMap;e.channelId=O;var j=new WeakMap,B=new WeakMap,R=new WeakMap;function M(t,e){var n=(0,p.default)("&",(0,d.default)((0,l.default)(function(t,e){return"".concat((0,m.pascalToSnake)(e),"=").concat(encodeURIComponent(t))},e)));return"".concat(t,"?").concat(n)}function N(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(e=E.get(t)).emit.apply(e,r)}function L(t,e){if(!e)throw new Error("State Channels FSM entered unknown state");_.set(t,e),e.handler.enter&&e.handler.enter(t),V(t)}function F(t,e){e!==w.get(t)&&(w.set(t,e),N(t,"statusChanged",e))}function D(t,e){I.get(t).send(JSON.stringify(e,void 0,2))}function V(t){return U.apply(this,arguments)}function U(){return(U=(0,c.default)(i.default.mark(function t(e){var n,r,a,u,o;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=S.get(e),r=P.get(e)||[],!n&&r.length){t.next=4;break}return t.abrupt("return");case 4:if(a=_.get(e),-1!==(u=r.findIndex(function(t){return t.guard(e,a)}))){t.next=8;break}return t.abrupt("return");case 8:return P.set(e,r.filter(function(t,e){return u!==e})),S.set(e,!0),t.next=12,Promise.resolve(r[u].action(e,a));case 12:o=t.sent,S.set(e,!1),L(e,o);case 15:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function q(t,e){return Y.apply(this,arguments)}function Y(){return(Y=(0,c.default)(i.default.mark(function t(e,n){var r,a,u;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=_.get(e),a=r.handler,u=r.state,t.t0=L,t.t1=e,t.next=5,Promise.resolve(a(e,n,u));case 5:t.t2=t.sent,(0,t.t0)(t.t1,t.t2);case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function H(t){return K.apply(this,arguments)}function K(){return(K=(0,c.default)(i.default.mark(function t(e){var n,r,a,u;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=k.get(e),!A.get(e)&&n.length){t.next=3;break}return t.abrupt("return");case 3:return r=(0,o.default)(n),a=r[0],u=r.slice(1),k.set(e,u||[]),A.set(e,!0),t.next=8,q(e,a);case 8:A.set(e,!1),H(e);case 10:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function X(t,e){var n=JSON.parse(e);if(n.id){var r=j.get(t).get(n.id);try{r(n)}finally{j.get(t).delete(n.id)}}else"channels.message"===n.method?N(t,"message",n.params.data.message):(k.set(t,[].concat((0,f.default)(k.get(t)||[]),[n])),H(t))}function G(t){var e=I.get(t);e.readyState===e.OPEN&&(e._connection.ping(),clearTimeout(R.get(t)),R.set(t,setTimeout(function(){return e._connection.drop()},x)))}function W(t,e){function n(t,n,r){t[n]=function(){r.apply(void 0,arguments),t[n]=e[n],"function"==typeof t&&t.apply(void 0,arguments)}}return new Promise(function(r,a){var u=new h.w3cwebsocket(t);Object.entries(e).forEach(function(t){var e=(0,s.default)(t,2),n=e[0],r=e[1];return u[n]=r}),n(u,"onopen",function(){return r(u)}),n(u,"onerror",function(t){return a(t)})})}function Q(){return(Q=(0,c.default)(i.default.mark(function t(e,n){var r,o,s,c,f;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=["sign","url"],o=(0,u.default)(function(t){return!r.includes(t)},n),s=n.url,c=M(s,(0,a.default)({},o,{protocol:"json-rpc"})),b.set(e,n),_.set(e,{handler:y.awaitingConnection}),E.set(e,new v.EventEmitter),C.set(e,0),j.set(e,new Map),t.next=11,W(c,{onopen:function(){return F(e,"connected")},onclose:function(){return F(e,"disconnected")},onmessage:function(t){var n=t.data;return X(e,n)}});case 11:(f=t.sent)._connection.on("pong",function(){clearTimeout(R.get(e)),clearTimeout(B.get(e)),B.set(e,setTimeout(function(){return G(e)},g))}),B.set(e,setTimeout(function(){return G(e)},g)),I.set(e,f);case 15:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}},function(t,e,n){"use strict";var r=n(0),a=n(20);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"HdWallet",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Ae",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Chain",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"ChainNode",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Tx",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"TransactionValidator",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"MemoryAccount",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"Aens",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"ContractCompilerAPI",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"Wallet",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"Aepp",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"Oracle",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"OracleNodeAPI",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"Selector",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(e,"Channel",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"Universal",{enumerable:!0,get:function(){return k.default}}),e.TxBuilderHelper=e.TxBuilder=e.Crypto=void 0;var u=a(n(5));e.Crypto=u;var o=a(n(21));e.TxBuilder=o;var i=a(n(14));e.TxBuilderHelper=i;var s=r(n(104)),c=r(n(17)),f=r(n(40)),l=r(n(41)),d=r(n(39)),p=r(n(50)),h=r(n(81)),v=r(n(25)),m=r(n(82)),y=r(n(51)),g=r(n(38)),x=r(n(83)),b=r(n(164)),w=r(n(173)),T=r(n(85)),_=r(n(80)),I=r(n(84)),E=r(n(175)),k=r(n(181))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=c(t),r=n[0],o=n[1],i=new u(function(t,e,n){return 3*(e+n)/4-n}(0,r,o)),s=0,f=o>0?r-4:r,l=0;l<f;l+=4)e=a[t.charCodeAt(l)]<<18|a[t.charCodeAt(l+1)]<<12|a[t.charCodeAt(l+2)]<<6|a[t.charCodeAt(l+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=255&e;2===o&&(e=a[t.charCodeAt(l)]<<2|a[t.charCodeAt(l+1)]>>4,i[s++]=255&e);1===o&&(e=a[t.charCodeAt(l)]<<10|a[t.charCodeAt(l+1)]<<4|a[t.charCodeAt(l+2)]>>2,i[s++]=e>>8&255,i[s++]=255&e);return i},e.fromByteArray=function(t){for(var e,n=t.length,a=n%3,u=[],o=0,i=n-a;o<i;o+=16383)u.push(l(t,o,o+16383>i?i:o+16383));1===a?(e=t[n-1],u.push(r[e>>2]+r[e<<4&63]+"==")):2===a&&(e=(t[n-2]<<8)+t[n-1],u.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return u.join("")};for(var r=[],a=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=o.length;i<s;++i)r[i]=o[i],a[o.charCodeAt(i)]=i;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function l(t,e,n){for(var r,a=[],u=e;u<n;u+=3)r=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),a.push(f(r));return a.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,a){var u,o,i=8*a-r-1,s=(1<<i)-1,c=s>>1,f=-7,l=n?a-1:0,d=n?-1:1,p=t[e+l];for(l+=d,u=p&(1<<-f)-1,p>>=-f,f+=i;f>0;u=256*u+t[e+l],l+=d,f-=8);for(o=u&(1<<-f)-1,u>>=-f,f+=r;f>0;o=256*o+t[e+l],l+=d,f-=8);if(0===u)u=1-c;else{if(u===s)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),u-=c}return(p?-1:1)*o*Math.pow(2,u-r)},e.write=function(t,e,n,r,a,u){var o,i,s,c=8*u-a-1,f=(1<<c)-1,l=f>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:u-1,h=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(i=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-o))<1&&(o--,s*=2),(e+=o+l>=1?d/s:d*Math.pow(2,1-l))*s>=2&&(o++,s/=2),o+l>=f?(i=0,o=f):o+l>=1?(i=(e*s-1)*Math.pow(2,a),o+=l):(i=e*Math.pow(2,l-1)*Math.pow(2,a),o=0));a>=8;t[n+p]=255&i,p+=h,i/=256,a-=8);for(o=o<<a|i,c+=a;c>0;t[n+p]=255&o,p+=h,o/=256,c-=8);t[n+p-h]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports=function(t,e){var n=[],r=!0,a=!1,u=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,u=t}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}return n}},function(t,e){t.exports=o},function(t,e){t.exports=i},function(t,e){t.exports=s},function(t,e){t.exports=c},function(t,e){t.exports=f},function(t,e,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),a=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,u=a&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(100),a)r.regeneratorRuntime=u;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,a=r.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},o=u.iterator||"@@iterator",i=u.asyncIterator||"@@asyncIterator",s=u.toStringTag||"@@toStringTag",c="object"==typeof t,f=e.regeneratorRuntime;if(f)c&&(t.exports=f);else{(f=e.regeneratorRuntime=c?t.exports:{}).wrap=b;var l="suspendedStart",d="suspendedYield",p="executing",h="completed",v={},m={};m[o]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(O([])));g&&g!==r&&a.call(g,o)&&(m=g);var x=I.prototype=T.prototype=Object.create(m);_.prototype=x.constructor=I,I.constructor=_,I[s]=_.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,I):(t.__proto__=I,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(x),t},f.awrap=function(t){return{__await:t}},E(k.prototype),k.prototype[i]=function(){return this},f.AsyncIterator=k,f.async=function(t,e,n,r){var a=new k(b(t,e,n,r));return f.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(x),x[s]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,a){return i.type="throw",i.arg=t,e.next=r,a&&(e.method="next",e.arg=n),!!a}for(var u=this.tryEntries.length-1;u>=0;--u){var o=this.tryEntries[u],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var u=r;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=e&&e<=u.finallyLoc&&(u=null);var o=u?u.completion:{};return o.type=t,o.arg=e,u?(this.method="next",this.next=u.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function b(t,e,n,r){var a=e&&e.prototype instanceof T?e:T,u=Object.create(a.prototype),o=new C(r||[]);return u._invoke=function(t,e,n){var r=l;return function(a,u){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw u;return j()}for(n.method=a,n.arg=u;;){var o=n.delegate;if(o){var i=A(o,n);if(i){if(i===v)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=w(t,e,n);if("normal"===s.type){if(r=n.done?h:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}(t,n,o),u}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function T(){}function _(){}function I(){}function E(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(t){var e;this._invoke=function(n,r){function u(){return new Promise(function(e,u){!function e(n,r,u,o){var i=w(t[n],t,r);if("throw"!==i.type){var s=i.arg,c=s.value;return c&&"object"==typeof c&&a.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,u,o)},function(t){e("throw",t,u,o)}):Promise.resolve(c).then(function(t){s.value=t,u(s)},function(t){return e("throw",t,u,o)})}o(i.arg)}(n,r,e,u)})}return e=e?e.then(u,u):u()}}function A(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,A(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=w(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,v;var u=a.arg;return u?u.done?(e[t.resultName]=u.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):u:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,u=function e(){for(;++r<t.length;)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return u.next=u}}return{next:j}}function j(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){"use strict";(function(t){var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.deserialize=function(t){return{rootHash:t[0].toString("hex"),nodes:t[1].reduce(function(t,e){return(0,o.default)({},t,(0,u.default)({},e[0].toString("hex"),e[1]))},{})}},e.serialize=function(e){return[t.from(e.rootHash,"hex"),Object.entries(e.nodes).map(function(e){var n=(0,a.default)(e,2),r=n[0],u=n[1];return[t.from(r,"hex"),u]})]},e.get=function t(e,n,r){var a=r?e.nodes[r]:e.nodes[e.rootHash];var u=c(a);if(u===s.branch){if(n.length){var o=a[parseInt(n[0],16)].toString("hex");return t(e,n.substr(1),o)}return a[16]}if(u===s.extension){var i=function(t){if("0"===t[0]||"2"===t[0])return t.slice(2);if("1"===t[0]||"3"===t[0])return t.slice(1)}(a[0].toString("hex"));if(n.substr(0,i.length)===i)return t(e,n.substr(i.length),a[1].toString("hex"))}if(u===s.leaf&&a[0].toString("hex").substr(1)===n)return a[1]},e.verify=function e(n,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var u=r||n.rootHash;if(a.includes(u))return!0;var o=n.nodes[u];var f=c(o);if(function(e){return t.from((0,i.hash)(i.rlp.encode(e))).toString("hex")}(o)!==u)return!1;a.push(u);if(f===s.branch)return!o.some(function(t,r){var u=t.toString("hex");return r<16&&!e(n,u,a)});if(f===s.extension)return e(n,o[1].toString("hex"),a);return!0};var a=r(n(6)),u=r(n(16)),o=r(n(9)),i=n(5),s={branch:1,extension:2,leaf:3};function c(t){if(17===t.length)return s.branch;if(2===t.length){var e=t[0].toString("hex")[0];if("0"===e||"1"===e)return s.extension;if("2"===e||"3"===e)return s.leaf}}}).call(this,n(7).Buffer)},function(t,e,n){"use strict";(function(t){var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.derivePathFromKey=d,e.derivePathFromSeed=p,e.getKeyPair=h,e.generateMnemonic=v,e.getMasterKeyFromSeed=m,e.deriveChild=y,e.generateSaveHDWallet=g,e.getSaveHDWalletAccounts=x,e.default=void 0;var a=r(n(55)),u=n(105),o=n(106),i=n(107),s=n(5),c=t.from("ed25519 seed"),f=2147483648,l=function(e){return t.from(e).toString("hex")};function d(t,e){var n=""===t?[]:(0,o.fromString)(t).toPathArray();return n.forEach(function(t,e){if(t<f)throw new Error("Segment #".concat(e+1," is not hardened"))}),n.reduce(function(t,e){return y(t,e)},e)}function p(t,e){if(!["m","m/"].includes(t.slice(0,2)))throw new Error("Invalid path");var n=m(e);return d(t.slice(2),n)}function h(t){return a.default.sign.keyPair.fromSeed(t)}function v(){return(0,i.generateMnemonic)()}function m(t){var e=(0,u.full)(t,c);return{secretKey:e.slice(0,32),chainCode:e.slice(32)}}function y(e,n){var r=e.secretKey,a=e.chainCode;if(n<f)throw new Error("Child index #".concat(n," is not supported"));var o=t.allocUnsafe(4);o.writeUInt32BE(n,0);var i=t.concat([t.alloc(1,0),r,o]),s=(0,u.full)(i,a);return{secretKey:s.slice(0,32),chainCode:s.slice(32)}}function g(t,e){if(!(0,i.validateMnemonic)(t))throw new Error("Invalid mnemonic");var n=p("m/44h/457h",(0,i.mnemonicToSeed)(t));return{secretKey:l((0,s.encryptKey)(e,n.secretKey)),chainCode:l((0,s.encryptKey)(e,n.chainCode))}}function x(e,n,r){var a={secretKey:(0,s.decryptKey)(n,t.from(e.secretKey,"hex")),chainCode:(0,s.decryptKey)(n,t.from(e.chainCode,"hex"))};return new Array(r).fill().map(function(t,e){return function(t){var e=t.secretKey,n=t.publicKey;return{secretKey:l(e),publicKey:"ak_".concat((0,s.encodeBase58Check)(n))}}(h(d("".concat(e,"h/0h/0h"),a).secretKey))})}var b={getSaveHDWalletAccounts:x,generateSaveHDWallet:g,generateMnemonic:v,deriveChild:y,getMasterKeyFromSeed:m};e.default=b}).call(this,n(7).Buffer)},function(t,e){t.exports=l},function(t,e){t.exports=d},function(t,e){t.exports=p},function(t,e,n){var r=n(10);t.exports=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,a=arguments.length;n<a;){var u=arguments[n];if(null!=u)for(var o in u)r(o,u)&&(e[o]=u[o]);n+=1}return e}},function(t,e,n){var r=n(10),a=Object.prototype.toString;t.exports=function(){return"[object Arguments]"===a.call(arguments)?function(t){return"[object Arguments]"===a.call(t)}:function(t){return r("callee",t)}}},function(t,e,n){var r=n(33),a=n(64),u=n(116),o=n(117),i=n(12),s=n(43);t.exports=function t(e,n){var c=function(a){var u=n.concat([e]);return r(a,u)?"<Circular>":t(a,u)},f=function(t,e){return a(function(e){return u(e)+": "+c(t[e])},e.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+a(c,e).join(", ")+"))";case"[object Array]":return"["+a(c,e).concat(f(e,s(function(t){return/^\d+$/.test(t)},i(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+c(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?c(NaN):u(o(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+c(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"==typeof e?"new String("+c(e.valueOf())+")":u(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var l=e.toString();if("[object Object]"!==l)return l}return"{"+f(e,i(e)).join(", ")+"}"}}},function(t,e,n){var r=n(112);t.exports=function(t,e,n){var a,u;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(a=1/e;n<t.length;){if(0===(u=t[n])&&1/u===a)return n;n+=1}return-1}if(e!=e){for(;n<t.length;){if("number"==typeof(u=t[n])&&u!=u)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(r(t[n],e))return n;n+=1}return-1}},function(t,e,n){var r=n(1),a=n(113),u=r(function(t,e){return a(t,e,[],[])});t.exports=u},function(t,e,n){var r=n(114),a=n(61),u=n(115),o=n(10),i=n(62),s=n(12),c=n(63);function f(t,e,n,u){var o=r(t),i=r(e);function s(t,e){return l(t,e,n.slice(),u.slice())}return!a(function(t,e){return!a(s,e,t)},i,o)}function l(t,e,n,r){if(i(t,e))return!0;var a=c(t);if(a!==c(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===u(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!i(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!i(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var d=n.length-1;d>=0;){if(n[d]===t)return r[d]===e;d-=1}switch(a){case"Map":return t.size===e.size&&f(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&f(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var p=s(t);if(p.length!==s(e).length)return!1;var h=n.concat([t]),v=r.concat([e]);for(d=p.length-1;d>=0;){var m=p[d];if(!o(m,e)||!l(e[m],t[m],h,v))return!1;d-=1}return!0}t.exports=l},function(t,e){t.exports=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}},function(t,e){t.exports=function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}},function(t,e){t.exports=function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}},function(t,e){var n=function(t){return(t<10?"0":"")+t},r="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+"T"+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};t.exports=r},function(t,e){t.exports=function(t){return function(){return!t.apply(this,arguments)}}},function(t,e,n){var r=n(1),a=n(18),u=n(121),o=n(122),i=n(26),s=n(125),c=n(12),f=r(a(["filter"],s,function(t,e){return o(e)?i(function(n,r){return t(e[r])&&(n[r]=e[r]),n},{},c(e)):u(t,e)}));t.exports=f},function(t,e){t.exports=function(t){return"function"==typeof t["@@transducer/step"]}},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,a=[];n<r;)t(e[n])&&(a[a.length]=e[n]),n+=1;return a}},function(t,e){t.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)}},function(t,e){var n=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();t.exports=function(t){return new n(t)}},function(t,e,n){var r=n(34),a=n(1)(function(t,e){return r(t.length,function(){return t.apply(e,arguments)})});t.exports=a},function(t,e,n){var r=n(1),a=n(19),u=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=a.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),o=r(function(t,e){return new u(t,e)});t.exports=o},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.conform=G,e.expandPath=Y,e.assertOne=$,Object.defineProperty(e,"snakeToPascal",{enumerable:!0,get:function(){return q.snakeToPascal}}),Object.defineProperty(e,"pascalToSnake",{enumerable:!0,get:function(){return q.pascalToSnake}}),e.traverseKeys=e.operation=e.default=void 0;var a=r(n(67)),u=r(n(68)),o=r(n(2)),i=r(n(128)),s=r(n(69)),c=r(n(11)),f=r(n(129)),l=r(n(3)),d=r(n(73)),p=r(n(134)),h=r(n(136)),v=r(n(138)),m=r(n(32)),y=r(n(140)),g=r(n(42)),x=r(n(141)),b=r(n(27)),w=r(n(75)),T=r(n(143)),_=r(n(144)),I=r(n(147)),E=r(n(148)),k=r(n(149)),A=r(n(66)),P=r(n(43)),S=r(n(76)),C=r(n(12)),O=r(n(150)),j=r(n(77)),B=r(n(35)),R=r(n(63)),M=r(n(36)),N=r(n(6)),L=r(n(152)),F=r(n(78)),D=r(n(8)),V=r(n(28)),U=r(n(45)),q=n(49);function Y(t,e){return(0,L.default)(e).reduce(function(t,e){var n=(0,N.default)(e,2),r=n[0],a=n[1];return t.replace("{".concat(r,"}"),a)},t)}function H(t,e,n){var r=function(){var n=(0,M.default)(t,e).match(/^#\/definitions\/(.+)/);if(void 0!==n)return n[1];throw Error("Reference path does not meet specification: ".concat(t))}();if(r in n)return n[r];throw Error("Couldn't find definition for ".concat(r))}function K(t,e,n){var r=Error(t);return Object.assign(r,{spec:e,value:n})}var X={integer:function(t,e,n){if("Number"===(0,R.default)(t))return Math.floor(t);throw K("Not an integer",e,t)},enum:function(t,e,n){var r=e.enum;if((0,B.default)(t,r))return t;throw K("Not one of [".concat((0,j.default)(", ",r),"]"),e,t)},string:function(t,e,n){if("String"===(0,R.default)(t))return t;throw K("Not a string",e,t)},object:function(t,e,n){if("Object"===(0,R.default)(t)){var r=(e.required||[]).map(q.snakeToPascal),a=Z(e.properties),u=(0,O.default)(r,(0,C.default)(t));if(u.length>0)throw K("Required properties missing: ".concat((0,j.default)(", ",u)),e,t);return(0,S.default)(function(t,e){return function(t,e){try{return e()}catch(e){throw Object.assign(e,{path:[t].concat(e.path||[])})}}(e,function(){return G(t,a[e],n)})},(0,P.default)(A.default,(0,k.default)((0,C.default)(a),t)))}throw K("Not an object",e,t)},array:function(t,e,n){if("Array"===(0,R.default)(t))return t.map(function(t){return G(t,e.items,n)});throw K("Not an array",e,t)},schema:function(t,e,n){return G(t,H(["schema","$ref"],e,n),n)},$ref:function(t,e,n){return G(t,H(["$ref"],e,n),n)},allOf:function(t,e,n){return(0,E.default)(e.allOf.map(function(e){return G(t,e,n)}))}};function G(t,e,n){return(X[function(t){if("schema"in t)return"schema";if("$ref"in t)return"$ref";if("enum"in t)return"enum";if("allOf"in t)return"allOf";if("type"in t)return t.type;throw Object.assign(Error("Could not determine type"),{spec:t})}(e)]||function(){throw Object.assign(Error("Unsupported type"),{spec:e})})(t,e,n)}var W={headers:{"Content-Type":"application/json"},transformResponse:[function(t){try{return(0,F.default)({storeAsString:!0}).parse(t)}catch(e){return t}}]},Q={get:function(t){return U.default.get(t,W)},post:function(t,e){return U.default.post(t,e,W)}};var z=(0,w.default)(function(t,e){return({Object:function(e){return(0,b.default)((0,L.default)(e).map(function(e){var n=e[0],r=e[1];return[t(n),z(t,r)]}))},Array:function(e){return e.map(z(t))}}[(0,R.default)(e)]||x.default)(e)});function J(t){return z(q.pascalToSnake,t)}function Z(t){return z(q.snakeToPascal,t)}function $(t){if(1===t.length)return(0,g.default)(t);throw Error("Expected exactly one element in ".concat(t))}function tt(t){var e=t.config,n=e.method,r=e.url,a=t.response,u=a.status,o=a.data,i=(0,y.default)("reason",o)?o.reason:(0,m.default)(o);return"".concat(n.toUpperCase()," to ").concat(r," failed with ").concat(u,": ").concat(i)}e.traverseKeys=z;var et=(0,v.default)(function(t,e,n,r){var a=n.operationId,u=n.description,v=n.parameters,y="".concat((0,g.default)(a).toLowerCase()).concat((0,h.default)(1,a)),b=function(t){return t.map(function(t){return(0,T.default)("name",(0,q.snakeToPascal)(t.name),t)})}(v),w=function(t){var e=(0,I.default)(function(t){return t.required?"req":"opts"},t),n=e.req,r=e.opts,a=(0,I.default)(function(t){return t.in},t),u=a.path,o=a.query,i=a.body;return{pathArgs:(0,_.default)("name",u||[]),queryArgs:(0,_.default)("name",o||[]),bodyArgs:(0,_.default)("name",i||[]),req:n||[],opts:r||[]}}(b),E=w.pathArgs,C=w.queryArgs,O=w.bodyArgs,B=w.req,R=w.opts,L=(0,_.default)("name",R),F=(0,p.default)((0,d.default)("name"),b),D=function(t,e,n){var r=e.length?"".concat((0,j.default)(", ",(0,_.default)("name",e))):null,a=n.length?"{".concat((0,j.default)(", ",(0,_.default)("name",n)),"}"):null;return"".concat(t," (").concat((0,j.default)(", ",[r,a].filter(x.default)),")")}(y,B,R),V=Q[e];return function(n,a){var d=(0,l.default)(o.default.mark(function n(){var u,l,d,p,h,v,g,x,b,w,T=arguments;return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=this.Swagger.defaults,n.prev=1,l=function(){if(T.length===B.length)return[Array.from(T),u];if(T.length===B.length+1)return[(0,f.default)(1,T),(0,c.default)(u,(0,s.default)(T))];throw Error("Function call doesn't conform to ".concat(D))}(),d=(0,N.default)(l,2),p=d[0],(h=d[1]).debug&&console.log("Invoked ".concat(y," with ").concat((0,m.default)(p)," ").concat((0,m.default)(h))),v=(0,c.default)((0,P.default)(A.default,(0,k.default)(L,h)),(0,i.default)((0,_.default)("name",B),p)),g=(0,S.default)(function(t,e){try{return G(t,F[e],r)}catch(r){var n=[e].concat(r.path||[]);throw Object.assign(r,{path:n,value:t,message:"validating ".concat((0,j.default)(" -> ",n),": ").concat(r.message)})}},v),x=Y(t,J((0,k.default)(E,g))),b=J(function(){if("get"===e)return{params:(0,k.default)(C,g)};if("post"===e)return g[$(O)];throw Error("Unsupported method ".concat(e))}()),h.debug&&console.log("Going to ".concat(e.toUpperCase()," ").concat(a).concat(x," with ").concat((0,m.default)(b))),n.prev=9,n.next=12,V("".concat(a).concat(x),b);case 12:return w=n.sent,n.abrupt("return",h.fullResponse?w:Z(w.data));case 16:throw n.prev=16,n.t0=n.catch(9),(0,M.default)(["response","data"],n.t0)&&(n.t0.message=tt(n.t0)),n.t0;case 20:n.next=26;break;case 22:throw n.prev=22,n.t1=n.catch(1),n.t1.message="While calling ".concat(D,", ").concat(n.t1.message),n.t1;case 26:case"end":return n.stop()}},n,this,[[1,22],[9,16]])})).bind(n);return Object.assign(d,{signature:D,description:u}),Object.defineProperties(d,{name:{value:y,writable:!1},length:{value:B.length+(R.length?1:0),writable:!1}})}});e.operation=et;var nt=(0,D.default)(V.default,{init:function(){var t=(0,l.default)(o.default.mark(function t(e,n){var r,i,s,c,f,l,h=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.swag,i=void 0===r?this.swag:r,n.stamp,s=i.paths,c=i.definitions,f=i.basePath.replace(/^\//,""),l=(0,p.default)((0,d.default)("name"),(0,u.default)((0,a.default)((0,S.default)(function(t,e){return(0,a.default)((0,S.default)(function(t,n){return et(e,n,t,c)(h,h.urlFor(f,t))},t))},s)))),t.abrupt("return",Object.assign(this,{methods:(0,C.default)(l),api:l}));case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),deepProps:{Swagger:{defaults:{debug:!1,txEncoding:"json"}}},statics:{debugSwagger:function(t){return this.deepProps({Swagger:{defaults:{debug:t}}})}}});e.default=nt},function(t,e,n){var r=n(65);t.exports=function(t){return function e(n){for(var a,u,o,i=[],s=0,c=n.length;s<c;){if(r(n[s]))for(o=0,u=(a=t?e(n[s]):n[s]).length;o<u;)i[i.length]=a[o],o+=1;else i[i.length]=n[s];s+=1}return i}}},function(t,e,n){var r=n(1)(function(t,e){for(var n=0,r=Math.min(t.length,e.length),a={};n<r;)a[t[n]]=e[n],n+=1;return a});t.exports=r},function(t,e,n){var r=n(1),a=n(18),u=n(130),o=r(a([],n(133),u));t.exports=o},function(t,e,n){var r=n(131);t.exports=function(t,e){return r(t<e.length?e.length-t:0,e)}},function(t,e,n){var r=n(1),a=n(18),u=n(132),o=n(71),i=r(a(["take"],u,function(t,e){return o(0,t<0?1/0:t,e)}));t.exports=i},function(t,e,n){var r=n(1),a=n(70),u=n(19),o=function(){function t(t,e){this.xf=e,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=u.init,t.prototype["@@transducer/result"]=u.result,t.prototype["@@transducer/step"]=function(t,e){this.i+=1;var n=0===this.n?t:this.xf["@@transducer/step"](t,e);return this.n>=0&&this.i>=this.n?a(n):n},t}(),i=r(function(t,e){return new o(t,e)});t.exports=i},function(t,e,n){var r=n(1),a=n(19),u=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(e),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),o=r(function(t,e){return new u(t,e)});t.exports=o},function(t,e,n){var r=n(74)(function(t,e){return e},null);t.exports=r},function(t,e,n){var r=n(47),a=n(10),u=n(19),o=function(){function t(t,e,n,r){this.valueFn=t,this.valueAcc=e,this.keyFn=n,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=u.init,t.prototype["@@transducer/result"]=function(t){var e;for(e in this.inputs)if(a(e,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[e]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var n=this.keyFn(e);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],e),t},t}(),i=r(4,[],function(t,e,n,r){return new o(t,e,n,r)});t.exports=i},function(t,e,n){var r=n(1),a=n(18),u=n(137),o=n(71),i=r(a(["drop"],u,function(t,e){return o(Math.max(0,t),1/0,e)}));t.exports=i},function(t,e,n){var r=n(1),a=n(19),u=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=a.result,t.prototype["@@transducer/step"]=function(t,e){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,e)},t}(),o=r(function(t,e){return new u(t,e)});t.exports=o},function(t,e,n){var r=n(139),a=n(32),u=r(function(){return a(arguments)});t.exports=u},function(t,e,n){var r=n(34),a=n(1),u=n(10),o=a(function(t,e){var n={};return r(e.length,function(){var r=t.apply(this,arguments);return u(r,n)||(n[r]=e.apply(this,arguments)),n[r]})});t.exports=o},function(t,e,n){var r=n(1)(n(10));t.exports=r},function(t,e,n){var r=n(4)(n(142));t.exports=r},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(46)(function(t,e,n){var r={};for(var a in n)r[a]=n[a];return r[t]=e,r});t.exports=r},function(t,e,n){var r=n(1),a=n(145),u=n(73),o=r(function(t,e){return a(u(t),e)});t.exports=o},function(t,e,n){var r=n(1),a=n(18),u=n(64),o=n(26),i=n(146),s=n(37),c=n(12),f=r(a(["fantasy-land/map","map"],i,function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return s(e.length,function(){return t.call(this,e.apply(this,arguments))});case"[object Object]":return o(function(n,r){return n[r]=t(e[r]),n},{},c(e));default:return u(t,e)}}));t.exports=f},function(t,e,n){var r=n(1),a=n(19),u=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=a.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),o=r(function(t,e){return new u(t,e)});t.exports=o},function(t,e,n){var r=n(72),a=n(1)(r("groupBy",n(74)(function(t,e){return null==t&&(t=[]),t.push(e),t},null)));t.exports=a},function(t,e,n){var r=n(57),a=n(4)(function(t){return r.apply(null,[{}].concat(t))});t.exports=a},function(t,e,n){var r=n(1)(function(t,e){for(var n={},r=0;r<t.length;)t[r]in e&&(n[t[r]]=e[t[r]]),r+=1;return n});t.exports=r},function(t,e,n){var r=n(33),a=n(1)(function(t,e){for(var n=[],a=0,u=t.length;a<u;)r(t[a],e)||r(t[a],n)||(n[n.length]=t[a]),a+=1;return n});t.exports=a},function(t,e){t.exports=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(4),a=n(10),u=r(function(t){var e=[];for(var n in t)a(n,t)&&(e[e.length]=[n,t[n]]);return e});t.exports=u},function(t,e,n){var r=n(61),a=n(1)(function(t,e){for(var n,a=0,u=e.length,o=[];a<u;)n=e[a],r(t,n,o)||(o[o.length]=n),a+=1;return o});t.exports=a},function(t,e,n){var r=n(33),a=n(1),u=n(79),o=n(43),i=a(function(t,e){return o(u(r)(t),e)});t.exports=i},function(t,e,n){var r=n(48)(0,"toLowerCase");t.exports=r},function(t,e,n){var r=n(48)(0,"toUpperCase");t.exports=r},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r=t.split("."),u=e.split("."),o=n.split("."),i=Math.max.apply(Math,(0,a.default)(r).concat((0,a.default)(u),(0,a.default)(o)))+1,s=function(t){return t.reverse().reduce(function(t,e,n){return t+e*Math.pow(i,n)},0)},c=s(r),f=s(u),l=s(o);return c>=f&&c<l};var a=r(n(15))},function(t,e){t.exports=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(13),a=[{name:"exa",magnitude:18},{name:"giga",magnitude:9},{name:"",magnitude:0},{name:"pico",magnitude:-12}];e.default=function(t){r.BigNumber.isBigNumber(t)||(t=(0,r.BigNumber)(t));var e=(t.e<0?function(t){return a.reduce(function(e,n){return Math.abs(n.magnitude-t)<Math.abs(e.magnitude-t)?n:e})}:function(t){return a.find(function(e){return e.magnitude<=t})||a[a.length-1]})(t.e),n=e.name,u=e.magnitude,o=t.shiftedBy(-u).precision(9+Math.min(t.e-u,0)).toFixed();return"".concat(o).concat(n?" ":"").concat(n)}},function(t,e){var n,r,a=t.exports={};function u(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(n===setTimeout)return setTimeout(t,0);if((n===u||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:u}catch(t){n=u}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var s,c=[],f=!1,l=-1;function d(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&p())}function p(){if(!f){var t=i(d);f=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||f||i(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(11)),u=r(n(2)),o=r(n(3)),i=r(n(45)),s=r(n(78)),c=r(n(8));function f(){return(f=(0,o.default)(u.default.mark(function t(e,n){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h(i.default.get("".concat(this.baseUrl).concat(e),(0,a.default)(this.httpConfig,n))));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function l(){return(l=(0,o.default)(u.default.mark(function t(e,n,r){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h(i.default.post("".concat(this.baseUrl).concat(e),n,(0,a.default)(this.httpConfig,r))));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function d(){return(d=(0,o.default)(u.default.mark(function t(e,n,r){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h(i.default.put("".concat(this.baseUrl).concat(e),n,(0,a.default)(this.httpConfig,r))));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function p(){return(p=(0,o.default)(u.default.mark(function t(e,n){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h(i.default.delete("".concat(this.baseUrl).concat(e),(0,a.default)(this.httpConfig,n))));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var h=function(){var t=(0,o.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:return t.abrupt("return",t.sent.data);case 6:if(t.prev=6,t.t0=t.catch(0),t.t0.response){t.next=10;break}throw t.t0;case 10:throw Object.assign(Error("Http request for ".concat(t.t0.config.url," failed with status code ").concat(t.t0.response.status,". Status: ").concat(t.t0.response.statusText,". \nError data: ").concat(JSON.stringify(t.t0.response.data))),{data:t.t0.response.data});case 11:case"end":return t.stop()}},t,this,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),v=(0,c.default)({init:function(t){var e=t.baseUrl;this.baseUrl=e},methods:{changeBaseUrl:function(t){this.baseUrl=t},get:function(t,e){return f.apply(this,arguments)},post:function(t,e,n){return l.apply(this,arguments)},put:function(t,e,n){return d.apply(this,arguments)},delete:function(t,e){return p.apply(this,arguments)}},props:{httpConfig:{headers:{"Content-Type":"application/json"},transformResponse:[function(t){try{return(0,s.default)({storeAsString:!0}).parse(t)}catch(e){return t}}]}}});e.default=v},function(t,e,n){"use strict";(function(t){var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(2)),u=r(n(24)),o=r(n(3)),i=r(n(6)),s=r(n(16)),c=r(n(9)),f=r(n(28)),l=n(14),d=n(5),p=n(29),h=r(n(163)),v=["int","string","tuple","address","bool","list","map","record","option"].reduce(function(t,e){return(0,c.default)({},t,(0,s.default)({},e,e))},{});function m(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.skipTransformDecoded,u=void 0!==a&&a,o=r.addressPrefix,f=void 0===o?"ak":o;if(u)return n;var l=w(e,!0),h=l.t,y=l.generic;switch(h){case v.bool:return!!n.value;case v.address:return 0===n.value?0:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ak",r=t.from(e,"hex"),a=(0,d.encodeBase58Check)(r);return"".concat(n,"_").concat(a)}((0,p.toBytes)(n.value,!0),f);case v.map:var g=(0,i.default)(y,2),x=g[0],b=g[1];return n.value.reduce(function(t,e,n){var r=e.key,a=e.val;return r=m(x,{value:r.value}),a=m(b,{value:a.value}),t.push([r,a]),t},[]);case v.option:var T=(0,i.default)(n.value,2),_=T[0],I=T[1];return 1===_?m(y,I):void 0;case v.list:return n.value.map(function(t){var e=t.value;return m(y,{value:e})});case v.tuple:return n.value.map(function(t,e){var n=t.value;return m(y[e],{value:n})});case v.record:return n.value.reduce(function(t,e,n){e.name;var r=e.value;return(0,c.default)({},t,(0,s.default)({},y[n].name,m(y[n].type,{value:r})))},{})}return n.value}function y(t,e){return g.apply(this,arguments)}function g(){return(g=(0,o.default)(a.default.mark(function t(e,n){var r,u,i,s;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=w(e),u=r.t,i=r.generic,"string"==typeof n&&"ct"===n.slice(0,2)&&(u=v.address),t.t0=u,t.next=t.t0===v.string?5:t.t0===v.list?6:t.t0===v.tuple?11:t.t0===v.option?16:t.t0===v.address?29:t.t0===v.record?30:t.t0===v.map?35:36;break;case 5:return t.abrupt("return",'"'.concat(n,'"'));case 6:return t.t1="[",t.next=9,Promise.all(n.map(function(){var t=(0,o.default)(a.default.mark(function t(e){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y(i,e));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()));case 9:return t.t2=t.sent,t.abrupt("return",t.t1.concat.call(t.t1,t.t2,"]"));case 11:return t.t3="(",t.next=14,Promise.all(n.map(function(){var t=(0,o.default)(a.default.mark(function t(e,n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y(i[n],e));case 1:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()));case 14:return t.t4=t.sent,t.abrupt("return",t.t3.concat.call(t.t3,t.t4,")"));case 16:return t.next=18,n.catch(function(t){});case 18:if(void 0!==(s=t.sent)){t.next=23;break}t.t5="None",t.next=28;break;case 23:return t.t6="Some(",t.next=26,y(i,s);case 26:t.t7=t.sent,t.t5=t.t6.concat.call(t.t6,t.t7,")");case 28:return t.abrupt("return",t.t5);case 29:return t.abrupt("return",0===parseInt(n)?"#0":"#".concat((0,l.decode)(n).toString("hex")));case 30:return t.t8="{",t.next=33,i.reduce(function(){var t=(0,o.default)(a.default.mark(function t(e,r,u){var o,i;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.name,i=r.type,t.next=3,e;case 3:return e=t.sent,t.t0=e,t.t1="".concat(0!==u?",":"").concat(o," = "),t.next=8,y(i[0],n[o]);case 8:return t.t2=t.sent,e=t.t0+=t.t1.concat.call(t.t1,t.t2),t.abrupt("return",e);case 11:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}(),"");case 33:return t.t9=t.sent,t.abrupt("return",t.t8.concat.call(t.t8,t.t9,"}"));case 35:return t.abrupt("return",x(n,i));case 36:return t.abrupt("return","".concat(n));case 37:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function x(t,e){return b.apply(this,arguments)}function b(){return(b=(0,o.default)(a.default.mark(function t(e,n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e instanceof Map&&(e=Array.from(e.entries())),!Array.isArray(e)&&e instanceof Object&&(e=Object.entries(e)),t.t0="{",t.next=5,e.reduce(function(){var t=(0,o.default)(a.default.mark(function t(e,r,u){var o,s,c;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=(0,i.default)(r,2),s=o[0],c=o[1],t.next=3,e;case 3:return e=t.sent,0!==u&&(e+=","),t.t0=e,t.t2="[",t.next=9,y(n[0],s);case 9:return t.t3=t.sent,t.t1=t.t2.concat.call(t.t2,t.t3,"] = "),t.next=13,y(n[1],c);case 13:return t.t4=t.sent,e=t.t0+=t.t1.concat.call(t.t1,t.t4),t.abrupt("return",e);case 16:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}(),"");case 5:return t.t1=t.sent,t.abrupt("return",t.t0.concat.call(t.t0,t.t1,"}"));case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function w(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=Array.isArray(t)?t:[t],n=(0,i.default)(e,1)[0];if("string"==typeof n)return{t:n};if("object"===(0,u.default)(n)){var r=Object.entries(n),a=(0,i.default)(r,1),o=(0,i.default)(a[0],2);return{t:o[0],generic:o[1]}}}function T(t){return t.map(function(t){var e=t.path,n=t.type,r=t.context,a=r.hasOwnProperty("value")?r.value:r.label;switch(a="object"===(0,u.default)(a)?JSON.stringify(a).slice(1).slice(0,-1):a,n){case"string.base":return(0,c.default)({},t,{message:'Value "'.concat(a,'" at path: [').concat(e,"] not a string")});case"number.base":return(0,c.default)({},t,{message:'Value "'.concat(a,'" at path: [').concat(e,"] not a number")});case"boolean.base":return(0,c.default)({},t,{message:'Value "'.concat(a,'" at path: [').concat(e,"] not a boolean")});case"array.base":return(0,c.default)({},t,{message:'Value "'.concat(a,'" at path: [').concat(e,"] not a array")});case"object.base":return(0,c.default)({},t,{message:"Value '".concat(a,"' at path: [").concat(e,"] not a object")});case"object.type":return(0,c.default)({},t,{message:"Value '".concat(a,"' at path: [").concat(e,"] not a ").concat(r.type)});default:return t}})}function _(t,e){var n=h.default.array().ordered(t.arguments.map(function(t,n){return function t(e){var n=w(e),r=n.t,a=n.generic;switch(Object.keys(v).includes(r)||(r=v.address),r){case v.int:return h.default.number().error(T);case v.string:return h.default.string().error(T);case v.address:return h.default.alternatives([h.default.number().min(0).max(0),h.default.string().regex(/^(ak_|ct_|ok_|oq_)/).error(T)]);case v.bool:return h.default.boolean().error(T);case v.list:return h.default.array().items(t(a)).error(T);case v.tuple:return h.default.array().ordered(a.map(function(e){return t(e).required()})).label("Tuple argument").error(T);case v.record:return h.default.object(a.reduce(function(e,n){var r=n.name,a=n.type;return(0,c.default)({},e,(0,s.default)({},r,t(a)))},{})).error(T);case v.option:return h.default.object().type(Promise).error(T);default:return h.default.any()}}(t.type).label("[".concat(e[n],"]"))})).label("Argument"),r=h.default.validate(e,n,{abortEarly:!1}).error;if(r)throw r}function I(t,e){return E.apply(this,arguments)}function E(){return(E=(0,o.default)(a.default.mark(function t(e,n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",n);case 2:return _(e,n),t.abrupt("return",Promise.all(e.arguments.map(function(){var t=(0,o.default)(a.default.mark(function t(e,r){var u;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=e.type,t.abrupt("return",y(u,n[r]));case 2:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}())));case 4:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function k(t,e){var n=t.functions.find(function(t){return t.name===e});if(!n&&"init"!==e)throw new Error("Function ".concat(e," doesn't exist in contract"));return n}function A(){return(A=(0,o.default)(a.default.mark(function t(e){var n,r,u,o,i=arguments;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},r=n.aci,u=n.contractAddress,t.t0=r,t.t0){t.next=6;break}return t.next=5,this.contractGetACI(e);case 5:t.t0=t.sent;case 6:return r=t.t0,(o={interface:r.interface,aci:r.encoded_aci.contract,source:e,compiled:null,deployInfo:{address:u}}).compile=O(this).bind(o),o.deploy=C(this).bind(o),o.call=S(this).bind(o),t.abrupt("return",o);case 12:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function P(t){try{if("string"==typeof t)return t;if("object"===(0,u.default)(t)){var e=Object.entries(t),n=(0,i.default)(e,1),r=(0,i.default)(n[0],2),a=r[0],o=r[1];return"".concat("tuple"!==a&&"record"!==a?a:"","(").concat(o.reduce(function(t,e,n){return 0!==n&&(t+=","),t+=P("record"!==a?e:e.type[0])},""),")")}}catch(t){return null}}function S(t){return function(){var e=(0,o.default)(a.default.mark(function e(n){var r,u,i,s,f=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:[],u=f.length>2&&void 0!==f[2]?f[2]:{skipArgsConvert:!1,skipTransformDecoded:!1,callStatic:!1},i=k(this.aci,n),n){e.next=5;break}throw new Error("Function name is required");case 5:if(this.deployInfo.address){e.next=7;break}throw new Error("You need to deploy contract before calling!");case 7:if(u.skipArgsConvert){e.next=13;break}return e.next=10,I(i,r);case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=r;case 14:if(r=e.t0,!u.callStatic){e.next=21;break}return e.next=18,t.contractCallStatic(this.source,this.deployInfo.address,n,r,{top:u.top,options:u});case 18:e.t1=e.sent,e.next=24;break;case 21:return e.next=23,t.contractCall(this.source,this.deployInfo.address,n,r,u);case 23:e.t1=e.sent;case 24:return s=e.t1,e.abrupt("return",(0,c.default)({},s,{decode:function(){var e=(0,o.default)(a.default.mark(function e(n){var r,o=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.t0=m,e.t1=i.returns,e.next=5,t.contractDecodeData(n||P(i.returns),s.result.returnValue);case 5:return e.t2=e.sent,e.t3=(0,c.default)({},u,r),e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}));case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function C(t){return(0,o.default)(a.default.mark(function e(){var n,r,u,o,i,s,c,f,l,d=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>0&&void 0!==d[0]?d[0]:[],r=d.length>1&&void 0!==d[1]?d[1]:{skipArgsConvert:!1},u=k(this.aci,"init"),this.compiled){e.next=6;break}return e.next=6,this.compile();case 6:if(r.skipArgsConvert){e.next=12;break}return e.next=9,I(u,n);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=n;case 13:return n=e.t0,e.next=16,t.contractDeploy(this.compiled,this.source,n,r);case 16:return o=e.sent,i=o.owner,s=o.transaction,c=o.address,f=o.createdAt,l=o.result,this.deployInfo={owner:i,transaction:s,address:c,createdAt:f,result:l},e.abrupt("return",this);case 24:case"end":return e.stop()}},e,this)}))}function O(t){return(0,o.default)(a.default.mark(function e(){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.contractCompile(this.source);case 2:return n=e.sent,r=n.bytecode,this.compiled=r,e.abrupt("return",this);case 6:case"end":return e.stop()}},e,this)}))}var j=f.default.compose({methods:{getContractInstance:function(t){return A.apply(this,arguments)}}});e.default=j}).call(this,n(7).Buffer)},function(t,e){t.exports=v},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(165)),u=r(n(2)),o=r(n(27)),i=r(n(15)),s=r(n(3)),c=r(n(35)),f=r(n(79)),l=r(n(17)),d=r(n(25)),p=r(n(52)),h=r(n(38)),v=r(n(167)),m=r(n(41)),y=r(n(168)),g=r(n(84)),x=r(n(50)),b=(0,f.default)(c.default),w=[{pred:b(x.default.compose.deepConfiguration.Ae.methods),handler:"onTx",error:"Creating transaction [{}] rejected"},{pred:b(m.default.compose.deepConfiguration.Ae.methods),handler:"onChain",error:"Chain operation [{}] rejected"},{pred:b(d.default.compose.deepConfiguration.Ae.methods),handler:"onAccount",error:"Account operation [{}] rejected"},{pred:b(p.default.compose.deepConfiguration.Contract.methods),handler:"onContract",error:"Contract operation [{}] rejected"}];function T(){return(T=(0,s.default)(u.default.mark(function t(){var e;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.default.compose.deepProperties.rpcMethods.hello.call(this);case 2:return e=t.sent,t.next=5,this.address();case 5:return this.rpcSessions[e].address=t.sent,t.abrupt("return",Promise.resolve(e));case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function _(){return(_=(0,s.default)(u.default.mark(function t(e,n,r){var o,i,s;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=(0,a.default)(function(t){return(0,t.pred)(e)},w),i=o.handler,s=o.error,void 0!==i){t.next=5;break}return t.abrupt("return",Promise.reject(Error("Unknown method ".concat(e))));case 5:return t.next=7,this[i](e,n,r);case 7:if(!t.sent){t.next=11;break}return t.abrupt("return",this[e].apply(this,n));case 11:return t.abrupt("return",Promise.reject(Error(s.replace(/{}/,e))));case 12:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function I(){return(I=(0,s.default)(u.default.mark(function t(e){var n,r;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,r=e.session,t.next=3,this.onAccount("sign",n,r);case 3:if(!t.sent){t.next=7;break}return t.abrupt("return",this.signWith(r.address,n[0]));case 7:return t.abrupt("return",Promise.reject(Error("Signing rejected")));case 8:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function E(){return(E=(0,s.default)(u.default.mark(function t(e){var n,r;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,r=e.session,t.next=3,this.onAccount("address",n,r);case 3:if(!t.sent){t.next=7;break}return t.abrupt("return",Promise.resolve(r.address));case 7:return t.abrupt("return",Promise.reject(Error("Address rejected")));case 8:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var k=l.default.compose(v.default,m.default,x.default,h.default,y.default,g.default,{init:function(t,e){var n=this,r=t.onTx,a=void 0===r?this.onTx:r,u=t.onChain,s=void 0===u?this.onChain:u,c=t.onAccount,f=void 0===c?this.onAccount:c,l=t.onContract,d=void 0===l?this.onContract:l,p=e.stamp;this.onTx=a,this.onChain=s,this.onAccount=f,this.onContract=d;var h=[].concat((0,i.default)(p.compose.deepConfiguration.Ae.methods),(0,i.default)(p.compose.deepConfiguration.Contract.methods));this.rpcMethods=Object.assign((0,o.default)(h.map(function(t){return[t,function(e){var r=e.params,a=e.session;return n.rpc(t,r,a)}]})),this.rpcMethods)},methods:{rpc:function(t,e,n){return _.apply(this,arguments)},onTx:function(){return console.log("Implement onTx!"),Promise.resolve(!1)},onChain:function(){return console.log("Implement onChain!"),Promise.resolve(!1)},onAccount:function(){return console.log("Implement onAccount!"),Promise.resolve(!1)},onContract:function(){return console.log("Implement onContract!"),Promise.resolve(!1)}},deepProps:{rpcMethods:{sign:function(t){return I.apply(this,arguments)},address:function(t){return E.apply(this,arguments)},hello:function(){return T.apply(this,arguments)}}}});e.default=k},function(t,e,n){var r=n(1)(n(18)(["find"],n(166),function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return e[n];n+=1}}));t.exports=r},function(t,e,n){var r=n(1),a=n(70),u=n(19),o=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=u.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=a(this.xf["@@transducer/step"](t,e))),t},t}(),i=r(function(t,e){return new o(t,e)});t.exports=i},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(2)),u=r(n(27)),o=r(n(3)),i=r(n(8)),s=r(n(28));function c(){return(c=(0,o.default)(a.default.mark(function t(e,n){var r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(r=this.accounts[e])){t.next=3;break}throw Error("Account for ".concat(e," not available"));case 3:return t.abrupt("return",r.sign(n));case 4:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function f(){return(f=(0,o.default)(a.default.mark(function t(e){var n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.address();case 2:n=t.sent,this.accounts[n]=e;case 4:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var l=(0,i.default)(s.default,{init:function(){var t=(0,o.default)(a.default.mark(function t(e){var n,r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accounts,r=void 0===n?[]:n,t.t0=u.default,t.next=4,Promise.all(r.map(function(){var t=(0,o.default)(a.default.mark(function t(e){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.address();case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",[t.t0,t.t1]);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()));case 4:t.t1=t.sent,this.accounts=(0,t.t0)(t.t1);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),props:{accounts:{}},methods:{signWith:function(t,e){return c.apply(this,arguments)},addAccount:function(t){return f.apply(this,arguments)}}});e.default=l},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(2)),u=r(n(16)),o=r(n(9)),i=r(n(6)),s=r(n(169)),c=r(n(24)),f=r(n(3)),l=r(n(8)),d=r(n(170));function p(){return(p=(0,f.default)(a.default.mark(function t(e){var n,r,f,l,d,p,h,v;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(v=function(){return Promise.reject(Error("Error: No such method ".concat(d)))},n=e.data,r=e.origin,f=e.source,"object"===(0,c.default)(n)&&"2.0"===n.jsonrpc){t.next=4;break}return t.abrupt("return");case 4:l=n.id,d=n.method,p=n.params,h=n.session,(0,s.default)((this.rpcMethods[d]||v).bind(this),{params:p,session:this.rpcSessions[h],origin:r}).then(function(t){var e="object"===(0,c.default)(t)?Object.entries(t).filter(function(t){var e=(0,i.default)(t,2);e[0];return"function"!=typeof e[1]}).reduce(function(t,e){var n=(0,i.default)(e,2),r=n[0],a=n[1];return(0,o.default)({},t,(0,u.default)({},r,a))},{}):t;f.postMessage({jsonrpc:"2.0",id:l,result:{resolve:e}},"*")}).catch(function(t){f.postMessage({jsonrpc:"2.0",id:l,result:{reject:t.message}},"*")});case 6:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var h=(0,l.default)({init:function(t){var e=t.self,n=void 0===e?window:e,r=this.receive.bind(this);n.addEventListener("message",r,!1),this.destroyServer=function(){return n.removeEventListener("message",r,!1)}},methods:{receive:function(t){return p.apply(this,arguments)},createSession:function(){var t=(0,d.default)();return this.rpcSessions[t]={id:t},t}},props:{rpcSessions:{}},deepProps:{rpcMethods:{hello:function(){return Promise.resolve(this.createSession())}}}});e.default=h},function(t,e,n){var r=n(75)(function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))});t.exports=r},function(t,e,n){var r=n(171),a=n(172);t.exports=function(t,e,n){var u=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;++i)e[u+i]=o[i];return e||a(o)}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var a=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),a[e]=t>>>((3&e)<<3)&255;return a}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,a=n;return[a[t[r++]],a[t[r++]],a[t[r++]],a[t[r++]],"-",a[t[r++]],a[t[r++]],"-",a[t[r++]],a[t[r++]],"-",a[t[r++]],a[t[r++]],"-",a[t[r++]],a[t[r++]],a[t[r++]],a[t[r++]],a[t[r++]],a[t[r++]]].join("")}},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(17)),u=r(n(51)),o=n(38),i=r(n(174)),s=a.default.compose(o.Contract,u.default,i.default);e.default=s},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(27)),u=r(n(36)),o=r(n(15)),i=r(n(2)),s=r(n(24)),c=r(n(3)),f=r(n(8)),l=r(n(28));var d=(0,f.default)(l.default,{init:function(){var t=(0,c.default)(i.default.mark(function t(e,n){var r,a,u,o,c,f,l,d,p=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=function(t){var e=t.data;if("object"===(0,s.default)(e)&&"webpackOk"!==e.type){var n=e.result,r=n.resolve,a=n.reject,u=e.id;f[u]&&(r?f[u].resolve(r):a&&f[u].reject(a),delete f[u])}},r=e.parent,a=void 0===r?window.parent:r,u=e.self,o=void 0===u?window:u,n.stamp,a!==o){t.next=5;break}throw new Error("rpc client: Can't send messages to itself");case 5:return c=0,f={},this.post=function(t,e){var n=new Promise(function(t,e){f[c]={resolve:t,reject:e}});return a.postMessage({jsonrpc:"2.0",id:c,method:t,params:e,session:p.session},"*"),c++,n},d=l,o.addEventListener("message",d,!1),this.destroyClient=function(){return o.removeEventListener("message",d,!1)},t.next=13,this.post("hello");case 13:this.session=t.sent;case 14:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),props:{handler:null},methods:{},composers:function(t){var e=t.stamp,n=(t.composables,[].concat((0,o.default)((0,u.default)(["compose","deepConfiguration","Ae","methods"],e)||[]),(0,o.default)((0,u.default)(["compose","deepConfiguration","Contract","methods"],e)||[]))),r=(0,a.default)(n.map(function(t){return[t,function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.post(t,n)}}(t)]}));e.compose.methods&&["signTransaction","getNetworkId"].forEach(function(t){return delete e.compose.methods[t]}),e.compose.methods=Object.assign(r,e.compose.methods)}});e.default=d},function(t,e,n){"use strict";var r=n(20),a=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=a(n(176)),o=a(n(2)),i=a(n(24)),s=a(n(3)),c=a(n(16)),f=a(n(9)),l=a(n(6)),d=a(n(28)),p=n(49),h=r(n(86)),v=n(87);function m(t){return Object.entries(t).reduce(function(t,e){var n=(0,l.default)(e,2),r=n[0],a=n[1];return(0,f.default)({},t,(0,c.default)({},(0,p.snakeToPascal)(r),a))},{})}function y(){return(y=(0,s.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=m,t.next=3,(0,v.call)(this,"channels.get.offchain_state",{});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function g(){return(g=(0,s.default)(o.default.mark(function t(e){var n,r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accounts,r=e.contracts,t.next=3,(0,v.call)(this,"channels.get.poi",{accounts:n,contracts:r});case 3:return t.abrupt("return",t.sent.poi);case 4:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function x(){return(x=(0,s.default)(o.default.mark(function t(e){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=u.default,t.t1=function(t,e){return(0,f.default)({},t,(0,c.default)({},e.account,e.balance))},t.t2={},t.next=5,(0,v.call)(this,"channels.get.balances",{accounts:e});case 5:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function b(){return(b=(0,s.default)(o.default.mark(function t(e){var n,r,a,u;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.amount,r=e.callData,a=e.contract,u=e.abiVersion,t.t0=m,t.next=4,(0,v.call)(this,"channels.dry_run.call_contract",{amount:n,call_data:r,contract:a,abi_version:u});case 4:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 6:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function w(){return(w=(0,s.default)(o.default.mark(function t(e){var n,r,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.caller,r=e.contract,a=e.round,t.t0=m,t.next=4,(0,v.call)(this,"channels.get.contract_call",{caller:n,contract:r,round:a});case 4:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 6:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function T(){return(T=(0,s.default)(o.default.mark(function t(e){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.call)(this,"channels.get.contract",{pubkey:e});case 2:return n=t.sent,t.abrupt("return",m((0,f.default)({},n,{contract:m(n.contract)})));case 4:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var _=d.default.compose({init:function(){var t=(0,s.default)(o.default.mark(function t(e){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(0,v.initialize)(this,e);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),methods:{on:function(t,e){v.eventEmitters.get(this).on(t,e)},status:function(){return v.status.get(this)},state:function(){return y.apply(this,arguments)},id:function(){return v.channelId.get(this)},update:function(t,e,n,r){var a=this;return new Promise(function(u,o){(0,v.enqueueAction)(a,function(t,e){return e.handler===h.channelOpen},function(a,i){return(0,v.send)(a,{jsonrpc:"2.0",method:"channels.update.new",params:{from:t,to:e,amount:n}}),{handler:h.awaitingOffChainTx,state:{resolve:u,reject:o,sign:r}}})})},poi:function(t){return g.apply(this,arguments)},balances:function(t){return x.apply(this,arguments)},leave:function(){var t=this;return new Promise(function(e,n){(0,v.enqueueAction)(t,function(t,e){return e.handler===h.channelOpen},function(t,r){return(0,v.send)(t,{jsonrpc:"2.0",method:"channels.leave",params:{}}),{handler:h.awaitingLeave,state:{resolve:e,reject:n}}})})},shutdown:function(t){var e=this;return new Promise(function(n,r){(0,v.enqueueAction)(e,function(t,e){return e.handler===h.channelOpen},function(e,a){return(0,v.send)(e,{jsonrpc:"2.0",method:"channels.shutdown",params:{}}),{handler:h.awaitingShutdownTx,state:{sign:t,resolve:n,reject:r}}})})},sendMessage:function(t,e){var n=t;"object"===(0,i.default)(t)&&(n=JSON.stringify(t)),(0,v.enqueueAction)(this,function(t,e){return e.handler===h.channelOpen},function(t,r){return(0,v.send)(t,{jsonrpc:"2.0",method:"channels.message",params:{info:n,to:e}}),r})},withdraw:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.onOnChainTx,u=r.onOwnWithdrawLocked,o=r.onWithdrawLocked;return new Promise(function(r,i){(0,v.enqueueAction)(n,function(t,e){return e.handler===h.channelOpen},function(n,s){return(0,v.send)(n,{jsonrpc:"2.0",method:"channels.withdraw",params:{amount:t}}),{handler:h.awaitingWithdrawTx,state:{sign:e,resolve:r,reject:i,onOnChainTx:a,onOwnWithdrawLocked:u,onWithdrawLocked:o}}})})},deposit:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.onOnChainTx,u=r.onOwnDepositLocked,o=r.onDepositLocked;return new Promise(function(r,i){(0,v.enqueueAction)(n,function(t,e){return e.handler===h.channelOpen},function(n,s){return(0,v.send)(n,{jsonrpc:"2.0",method:"channels.deposit",params:{amount:t}}),{handler:h.awaitingDepositTx,state:{sign:e,resolve:r,reject:i,onOnChainTx:a,onOwnDepositLocked:u,onDepositLocked:o}}})})},createContract:function(t,e){var n=this,r=t.code,a=t.callData,u=t.deposit,o=t.vmVersion,i=t.abiVersion;return new Promise(function(t,s){(0,v.enqueueAction)(n,function(t,e){return e.handler===h.channelOpen},function(n,c){return(0,v.send)(n,{jsonrpc:"2.0",method:"channels.update.new_contract",params:{code:r,call_data:a,deposit:u,vm_version:o,abi_version:i}}),{handler:h.awaitingNewContractTx,state:{sign:e,resolve:t,reject:s}}})})},callContract:function(t,e){var n=this,r=t.amount,a=t.callData,u=t.contract,o=t.abiVersion;return new Promise(function(t,i){(0,v.enqueueAction)(n,function(t,e){return e.handler===h.channelOpen},function(n,s){return(0,v.send)(n,{jsonrpc:"2.0",method:"channels.update.call_contract",params:{amount:r,call_data:a,contract:u,abi_version:o}}),{handler:h.awaitingCallContractUpdateTx,state:{resolve:t,reject:i,sign:e}}})})},callContractStatic:function(t){return b.apply(this,arguments)},getContractCall:function(t){return w.apply(this,arguments)},getContractState:function(t){return T.apply(this,arguments)},disconnect:function(){return(0,v.disconnect)(this)},cleanContractCalls:function(){var t=this;return new Promise(function(e,n){(0,v.enqueueAction)(t,function(t,e){return e.handler===h.channelOpen},function(t,r){return(0,v.send)(t,{jsonrpc:"2.0",method:"channels.clean_contract_calls",params:{}}),{handler:h.awaitingCallsPruned,state:{resolve:e,reject:n}}})})}}});e.default=_},function(t,e,n){var r=n(46)(n(26));t.exports=r},function(t,e,n){var r=n(1)(function(t,e){var n={};for(var r in e)t(e[r],r,e)&&(n[r]=e[r]);return n});t.exports=r},function(t,e,n){var r=n(53),a=n(56),u=n(54);t.exports=function(t){return r(t)||a(t)||u()}},function(t,e){t.exports=m},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function a(t){return"object"==typeof t&&null!==t}function u(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,i,s,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(u(n=this._events[t]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(a(n))for(i=Array.prototype.slice.call(arguments,1),o=(c=n.slice()).length,s=0;s<o;s++)c[s].apply(this,i);return!0},n.prototype.addListener=function(t,e){var o;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(o=u(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!r(e))throw TypeError("listener must be a function");var n=!1;function a(){this.removeListener(t,a),n||(n=!0,e.apply(this,arguments))}return a.listener=e,this.on(t,a),this},n.prototype.removeListener=function(t,e){var n,u,o,i;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(n=this._events[t]).length,u=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(n)){for(i=o;i-- >0;)if(n[i]===e||n[i].listener&&n[i].listener===e){u=i;break}if(u<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(u,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(17)),u=r(n(82)),o=r(n(41)),i=r(n(51)),s=r(n(38)),c=r(n(50)),f=r(n(85)),l=a.default.compose(u.default,o.default,c.default,i.default,s.default,f.default,{init:function(){},props:{process:{}}});e.default=l}])});
//# sourceMappingURL=aepp-sdk.browser.js.map